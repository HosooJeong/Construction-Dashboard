<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.8, minimum-scale=0.5, maximum-scale=1.5, user-scalable=yes">
    <title>ì‹¤ì‹œê°„ ì¢…í•©ê±´ì„¤ì •ë³´(RICS) - í’ˆì§ˆê´€ë¦¬</title>
<style>
        /* ê¹”ë”í•˜ê³  ê³µì‹ì ì¸ ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ */
        :root {
            /* ë©”ì¸ ì»¬ëŸ¬íŒ”ë ˆíŠ¸ - ë¸”ë£¨-ê·¸ë ˆì´ ê³„ì—´ */
            --primary-blue: #2c5aa0;
            --primary-gray: #6c757d;
            --primary-dark: #343a46;
            
            /* ë¸”ë£¨ ê³„ì—´ */
            --blue-light: #4a90b8;
            --blue-dark: #1e3a5f;
            --blue-bg: rgba(44, 90, 160, 0.08);
            
            /* ê·¸ë ˆì´ ê³„ì—´ */
            --gray-light: #8d9299;
            --gray-dark: #495057;
            --gray-bg: rgba(108, 117, 125, 0.08);
            
            /* ìƒíƒœ ìƒ‰ìƒ - ì°¨ë¶„í•œ í†¤ */
            --success: #198754;
            --warning: #856404;
            --danger: #721c24;
            --info: #0dcaf0;
            
            /* ê³µí†µ */
            --text-dark: #2c3e50;
            --text-muted: #6c757d;
            --bg-light: #f8f9fa;
            --border-color: #dee2e6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        /* ê¸°ì¡´ ìŠ¤íƒ€ì¼ë“¤ì´ ì´ì–´ì„œ ë‚˜ì˜´... */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Malgun Gothic', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-blue) 100%);
            min-height: 100vh;
            padding: 10px;
        }

        .dashboard-container {
            width: 100%;
            max-width: 2400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            min-height: calc(100vh - 20px);
            display: flex;
            flex-direction: column;
        }

        .header {
            display: flex;
            justify-content: flex-start;
            align-items: flex-start; /* flex-startë¡œ ë³€ê²½ */
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
            min-height: 60px; /* ìµœì†Œ ë†’ì´ ì„¤ì • */
            flex-wrap: nowrap; /* ì¤„ë°”ê¿ˆ ë°©ì§€ */
        }

        .header h1 {
            color: #2c3e50;
            font-size: 1.8rem;
            font-weight: 700;
            flex-shrink: 0; /* í¬ê¸° ì¶•ì†Œ ë°©ì§€ */
            white-space: nowrap; /* í…ìŠ¤íŠ¸ ì¤„ë°”ê¿ˆ ë°©ì§€ */
            margin-right: 20px; /* ì˜¤ë¥¸ìª½ ì—¬ë°± ì¶”ê°€ */
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-shrink: 0; /* í¬ê¸° ì¶•ì†Œ ë°©ì§€ */
        }

        /* ì‘ì—… í•„í„° ì»¨í…Œì´ë„ˆ ì „ì²´ */
        .work-filter-container {
            display: flex;
            flex-wrap: wrap; /* í•„í„° ë²„íŠ¼ë“¤ì´ ì¤„ë°”ê¿ˆ ê°€ëŠ¥ */
            gap: 8px;
            align-items: flex-start; /* ìƒë‹¨ ì •ë ¬ */
            max-width: 60%; /* ìµœëŒ€ ë„ˆë¹„ ì œí•œ */
            margin-top: 5px; /* ì•½ê°„ ìœ„ìª½ ì—¬ë°± */
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary-dark), var(--primary-blue));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1rem;
        }

        .user-details {
            text-align: right;
        }

        .user-name {
            font-weight: 600;
            color: #333;
            font-size: 0.9rem;
        }

        .user-role {
            font-size: 0.75rem;
            color: #666;
        }

        /* ìƒˆë¡œìš´ ë ˆì´ì•„ì›ƒ: 3ê°œ ì»¬ëŸ¼ */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            flex: 1;
            height: calc(100vh - 160px);
        }

        /* ì™¼ìª½ ì»¬ëŸ¼: 3í–‰ */
        .left-column {
            display: grid;
            grid-template-rows: 1fr 1fr 1fr;
            gap: 15px;
        }

        /* ê°€ìš´ë° ì»¬ëŸ¼: 2í–‰ */
        .center-column {
            display: grid;
            grid-template-rows: 1fr 1fr;
            gap: 15px;
        }

        /* ì˜¤ë¥¸ìª½ ì»¬ëŸ¼: 2í–‰ */
        .right-column {
            display: grid;
            grid-template-rows: 1fr 1fr;
            gap: 15px;
        }

        .grid-item {
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            padding: 20px;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .grid-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
        }

        /* ë¹ˆ ì¹¸ ìŠ¤íƒ€ì¼ */
        .empty-slot {
            background: transparent;
            box-shadow: none;
            border: 2px dashed #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #bbb;
            font-size: 1rem;
        }

        .empty-slot:hover {
            transform: none;
            box-shadow: none;
            border-color: #ccc;
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
/* í’ˆì§ˆê´€ë¦¬ì ë°°ì¹˜ê¸°ì¤€ í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
.quality-manager-table {
    flex: 1;
    overflow-y: auto;
}
/* í’ˆì§ˆê´€ë¦¬ì í•„í„° ë²„íŠ¼ ê°„ê²© ì¡°ì • */
.quality-manager-filter-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 20px;  /* ì´ ë¶€ë¶„ì´ ì¤‘ìš”! */
    padding: 10px;
    background: #f8f9fa;
    border-radius: 8px;
}
.manager-table {
    width: 100%;
    border-collapse: collapse;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    background: white;
}

.manager-header {
    background: linear-gradient(45deg, var(--primary-blue), var(--blue-dark));
    color: white;
    padding: 12px 8px;
    text-align: center;
    font-weight: 600;
    font-size: 0.85rem;
    border: none;
}

.manager-row {
    transition: all 0.3s ease;
    cursor: pointer;
}

.manager-row:hover {
    background: rgba(142, 68, 173, 0.1);
    transform: translateY(-1px);
}

.manager-row.special {
    background: linear-gradient(90deg, var(--blue-bg), rgba(255, 255, 255, 1));
    border-left: 4px solid var(--primary-blue);
    color: var(--primary-blue);
}

.manager-row.advanced {
    background: linear-gradient(90deg, var(--blue-bg), rgba(255, 255, 255, 1));
    border-left: 4px solid var(--blue-light);
    color: var(--blue-light);
}


.manager-row.intermediate {
    background: linear-gradient(90deg, var(--blue-bg), rgba(255, 255, 255, 1));
    border-left: 4px solid var(--blue-dark);
    color: var(--blue-dark);
}

.manager-row.basic {
    background: linear-gradient(90deg, var(--blue-bg), rgba(255, 255, 255, 1));
    border-left: 4px solid #5499c7;
    color: #5499c7;
}

.manager-cell {
    padding: 15px 10px;
    text-align: center;
    font-size: 0.85rem;
    border-bottom: 1px solid #f0f0f0;
    vertical-align: middle;
}

.manager-grade {
    font-weight: 700;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.grade-icon {
    font-size: 1.2rem;
}
/* ê°€ë¡œí˜• í’ˆì§ˆê´€ë¦¬ì í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
.manager-table-horizontal {
    width: 100%;
    border-collapse: collapse;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    background: white;
}

.manager-header-horizontal {
    background: linear-gradient(45deg, var(--primary-blue), var(--blue-dark));
    color: white;
    padding: 12px 8px;
    text-align: center;
    font-weight: 600;
    font-size: 0.85rem;
    border: none;
}

.manager-header-horizontal:first-child {
    width: 25%;
}

.manager-header-horizontal:not(:first-child) {
    width: 18.75%;
}

.manager-row-horizontal {
    transition: all 0.3s ease;
    border-bottom: 1px solid #f0f0f0;
}

.manager-row-horizontal:hover {
    background: rgba(142, 68, 173, 0.05);
}

.manager-cell-horizontal {
    padding: 15px 10px;
    text-align: center;
    font-size: 0.9rem;
    border: none;
    vertical-align: middle;
}

.manager-cell-horizontal:first-child {
    font-weight: 600;
    color: #2c3e50;
    text-align: left;
    padding-left: 15px;
}

.manager-count-horizontal {
    font-weight: 700;
    font-size: 1.1rem;
    color: #2c3e50;
}

.manager-count-horizontal.special { color: #e74c3c; }
.manager-count-horizontal.advanced { color: #f39c12; }
.manager-count-horizontal.intermediate { color: #3498db; }
.manager-count-horizontal.basic { color: #27ae60; }
.special .manager-grade { color: #e74c3c; }
.advanced .manager-grade { color: #f39c12; }
.intermediate .manager-grade { color: #3498db; }
.basic .manager-grade { color: #27ae60; }

.manager-count {
    font-weight: 700;
    font-size: 1.1rem;
    color: #2c3e50;
}

.manager-requirement {
    font-size: 0.75rem;
    color: #666;
    line-height: 1.3;
    text-align: left;
    padding-left: 8px;
}

.requirement-text {
    margin-bottom: 2px;
}

.hover-hint {
    position: absolute;
    bottom: 5px;
    right: 5px;
    background: rgba(142, 68, 173, 0.8);
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.manager-row:hover .hover-hint {
    opacity: 1;
}

/* í’ˆì§ˆê´€ë¦¬ì ê¸°ì¤€ íŒì—… ëª¨ë‹¬ */
.manager-criteria-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.manager-criteria-modal.show {
    opacity: 1;
    visibility: visible;
}

.manager-criteria-content {
    background: white;
    border-radius: 15px;
    padding: 25px;
    width: 90%;
    max-width: 1200px;
    max-height: 80vh;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    transform: scale(0.8);
    transition: transform 0.3s ease;
    display: flex;
    flex-direction: column;
}

.manager-criteria-modal.show .manager-criteria-content {
    transform: scale(1);
}

.criteria-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid #f0f0f0;
}

.criteria-modal-title {
    font-size: 1.3rem;
    font-weight: 700;
    color: #2c3e50;
    display: flex;
    align-items: center;
    gap: 10px;
}

.criteria-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #bbb;
    transition: color 0.3s ease;
}

.criteria-close:hover {
    color: #e74c3c;
}

.criteria-content {
    flex: 1;
    overflow-y: auto;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr;
    gap: 15px;
    padding: 10px;
}

.criteria-section {
    margin-bottom: 0;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 10px;
    border-left: 4px solid #8e44ad;
    height: fit-content;
}

.criteria-section-title {
    font-weight: 700;
    color: #2c3e50;
    margin-bottom: 10px;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.criteria-list {
    list-style: none;
    padding: 0;
}

.criteria-list li {
    padding: 6px 0;
    color: #555;
    font-size: 0.85rem;
    line-height: 1.4;
    border-bottom: 1px solid #e9ecef;
}

.criteria-list li:last-child {
    border-bottom: none;
}

.criteria-highlight {
    background: rgba(142, 68, 173, 0.1);
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: 600;
}
/* ì‘ì—… í•„í„° ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
.work-filter-container {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    align-items: center;
}

.work-filter-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: #2c3e50;
    margin-right: 10px;
}

.work-checkbox-group {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
}

.work-checkbox-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 8px;
    background: rgba(200, 200, 200, 0.1);
    border-radius: 12px;
    transition: all 0.3s ease;
    cursor: pointer;
    border: 2px solid #e0e0e0;
}

.work-checkbox-item:hover {
    background: rgba(200, 200, 200, 0.2);
    transform: translateY(-1px);
    border-color: #bbb;
}

.work-checkbox-item.checked {
background: linear-gradient(45deg, var(--primary-blue), var(--blue-dark));
color: white;
border-color: var(--primary-blue);
box-shadow: 0 2px 8px rgba(44, 90, 160, 0.3);
}

.work-checkbox {
    width: 14px;
    height: 14px;
    accent-color: #3498db;
    cursor: pointer;
}

.work-checkbox-label {
    font-size: 0.75rem;
    font-weight: 500;
    cursor: pointer;
    user-select: none;
}

.work-checkbox-item.checked .work-checkbox-label {
    color: white;
    font-weight: 600;
}

/* ì„¹ì…˜ í—¤ë” ìŠ¤íƒ€ì¼ */
.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

/* ë¬¸ì ë°œì†¡ ë²„íŠ¼ */
.sms-button {
    background: linear-gradient(45deg, #27ae60, #2ecc71);
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(39, 174, 96, 0.3);
}

.sms-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4);
}

/* ë„ë¡œ í¬ì¥ ìš”ì•½ ì •ë³´ ìŠ¤íƒ€ì¼ */
.paving-summary {
    display: flex;
    justify-content: space-between;
    background: linear-gradient(45deg, var(--primary-gray), var(--gray-dark));
    color: white;
    padding: 10px 20px;
    border-radius: 10px;
    margin-bottom: 20px;
    margin-top: 10px;
    font-weight: 600;
    box-shadow: 0 4px 12px rgba(108, 117, 125, 0.2);
}

/* í¬ì¥ë©´ì  ì •ë³´ë¥¼ ê³ ì • ìœ„ì¹˜ì— */
.area-info {
    position: absolute;
    right: 50px;
    display: flex;
    align-items: center;
    background: rgba(155, 89, 182, 0.1);
    padding: 6px 10px;
    border-radius: 6px;
    border-left: 3px solid #9b59b6;
    min-width: 70px;
    justify-content: center;
}

.area-amount {
    font-weight: bold;
    color: #9b59b6;
    font-size: 0.85rem;
    margin-right: 2px;
}

.area-unit {
    font-size: 0.75rem;
    color: #8e44ad;
    font-weight: 600;
}

/* SMS íŒì—… ëª¨ë‹¬ */
.sms-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.sms-modal.show {
    opacity: 1;
    visibility: visible;
}

.sms-modal-content {
    background: white;
    border-radius: 15px;
    padding: 25px;
    width: 90%;
    max-width: 480px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    transform: scale(0.8);
    transition: transform 0.3s ease;
}

.sms-modal.show .sms-modal-content {
    transform: scale(1);
}

.sms-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid #f0f0f0;
}

.sms-modal-title {
    font-size: 1.3rem;
    font-weight: 700;
    color: #2c3e50;
}

.sms-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #bbb;
    transition: color 0.3s ease;
}

.sms-close:hover {
    color: #e74c3c;
}

.sms-form-group {
    margin-bottom: 20px;
}

.sms-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #2c3e50;
    font-size: 0.9rem;
}

.sms-input, .sms-textarea {
    width: 100%;
    padding: 12px 15px;
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    font-size: 0.9rem;
    outline: none;
    transition: border-color 0.3s ease;
}

.sms-input:focus, .sms-textarea:focus {
    border-color: #3498db;
}

.sms-textarea {
    resize: vertical;
    min-height: 100px;
    font-family: inherit;
}

.sms-char-count {
    text-align: right;
    font-size: 0.8rem;
    color: #666;
    margin-top: 5px;
}

.sms-buttons {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
    margin-top: 25px;
}

.sms-btn {
    padding: 12px 24px;
    border: none;
    border-radius: 10px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.sms-btn-cancel {
    background: #ecf0f1;
    color: #7f8c8d;
}

.sms-btn-cancel:hover {
    background: #d5dbdb;
}

.sms-btn-send {
    background: linear-gradient(45deg, #3498db, #2980b9);
    color: white;
    box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
}

.sms-btn-send:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
}
        /* ì§€ë„ ìŠ¤íƒ€ì¼ */
        .map-wrapper {
            flex: 1;
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-blue) 100%);
            border-radius: 12px;
            color: white;
            text-align: center;
            padding: 20px;
            position: relative;
            display: flex;
            flex-direction: column;
            min-height: 250px;
        }

        .map-header {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .map-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

/* í’ˆì§ˆí†µì§€ì„œ ëª©ë¡ íŒì—… ëª¨ë‹¬ */
.notice-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.notice-modal.show {
    opacity: 1;
    visibility: visible;
}

.notice-modal-content {
    background: white;
    border-radius: 15px;
    padding: 25px;
    width: 90%;
    max-width: 800px;
    max-height: 80vh;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    transform: scale(0.8);
    transition: transform 0.3s ease;
    display: flex;
    flex-direction: column;
}

.notice-modal.show .notice-modal-content {
    transform: scale(1);
}

.notice-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid #f0f0f0;
}

.notice-modal-title {
    font-size: 1.3rem;
    font-weight: 700;
    color: #2c3e50;
    display: flex;
    align-items: center;
    gap: 10px;
}

.notice-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #bbb;
    transition: color 0.3s ease;
}

.notice-close:hover {
    color: #e74c3c;
}

.notice-list {
    flex: 1;
    overflow-y: auto;
    max-height: 500px;
    padding-right: 10px;
}

.notice-list::-webkit-scrollbar {
    width: 8px;
}

.notice-list::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 4px;
}

.notice-list::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 4px;
}

.notice-item {
    background: #f8f9fa;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 12px;
    border-left: 4px solid #3498db;
    transition: all 0.3s ease;
}

.notice-item:hover {
    background: #e9ecef;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.notice-item.excellent {
    border-left-color: #27ae60;
    background: linear-gradient(90deg, rgba(39, 174, 96, 0.05), rgba(248, 249, 250, 1));
}

.notice-item.poor {
    border-left-color: #e74c3c;
    background: linear-gradient(90deg, rgba(231, 76, 60, 0.05), rgba(248, 249, 250, 1));
}

.notice-item-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.notice-project {
    font-weight: 600;
    color: #2c3e50;
    font-size: 0.95rem;
}

.notice-date {
    font-size: 0.8rem;
    color: #666;
    background: rgba(108, 117, 125, 0.1);
    padding: 4px 8px;
    border-radius: 12px;
}

.notice-company {
    font-size: 0.85rem;
    color: #495057;
    margin-bottom: 6px;
}

.notice-reason {
    font-size: 0.8rem;
    color: #666;
    line-height: 1.4;
    padding: 8px 12px;
    background: rgba(255, 255, 255, 0.7);
    border-radius: 6px;
    border: 1px solid #dee2e6;
}

.notice-count {
    text-align: center;
    color: #6c757d;
    font-style: italic;
    padding: 20px;
    font-size: 0.9rem;
}

        .regions-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            flex: 1;
        }

        .region-item {
            background: rgba(255, 255, 255, 0.15);
            padding: 12px;
            border-radius: 8px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .region-item:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-1px);
        }

        .region-name {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        .region-count {
            font-size: 1rem;
            font-weight: bold;
            color: #f39c12;
        }

        .back-to-national {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 8px 16px;
            border-radius: 15px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.8rem;
        }

        /* í˜„ì¥ ëª©ë¡ ìŠ¤íƒ€ì¼ */
        .site-list {
            flex: 1;
            overflow-y: auto;
            max-height: 300px;
            padding-right: 5px;
        }

        .site-list::-webkit-scrollbar {
            width: 6px;
        }

        .site-list::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        .site-list::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }

        .site-list::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }

        .site-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
            min-height: 60px;
        }

        .site-item:last-child {
            border-bottom: none;
        }

        .site-info {
            flex: 1;
            min-width: 0;
        }

        .site-name {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 4px;
            font-size: 0.85rem;
            line-height: 1.3;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .site-details {
            font-size: 0.75rem;
            color: #666;
            line-height: 1.2;
        }

        .weather-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: bold;
            flex-shrink: 0;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .weather-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .weather-rain { background: rgba(52, 152, 219, 0.2); color: #3498db; }
        .weather-hot { background: rgba(231, 76, 60, 0.2); color: #e74c3c; }
        .weather-cold { background: rgba(155, 89, 182, 0.2); color: #9b59b6; }
        .weather-wind { background: rgba(26, 188, 156, 0.2); color: #1abc9c; }

        /* ë‚ ì”¨ íˆ´íŒ ëª¨ë‹¬ */
        .weather-tooltip {
            position: fixed;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            padding: 15px;
            min-width: 280px;
            max-width: 320px;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            border: 2px solid #f0f0f0;
            pointer-events: none;
        }

        .weather-tooltip::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 20px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid white;
        }

        .weather-icon:hover .weather-tooltip {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }

        .tooltip-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #f0f0f0;
        }

        .tooltip-icon {
            font-size: 1.5rem;
        }

        .tooltip-title {
            font-weight: 600;
            color: #2c3e50;
            font-size: 0.9rem;
        }

        .tooltip-content {
            font-size: 0.8rem;
            line-height: 1.5;
        }

        .weather-data {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 6px 0;
        }

        .weather-data:not(:last-child) {
            border-bottom: 1px solid #f8f9fa;
        }

        .weather-label {
            color: #666;
            font-weight: 500;
        }

        .weather-value {
            font-weight: 600;
            color: #2c3e50;
        }

        .weather-critical {
            color: #e74c3c;
        }

        .weather-safe {
            color: #27ae60;
        }

        .quality-standard {
            background: #f8f9fa;
            padding: 8px;
            border-radius: 6px;
            margin-top: 8px;
            border-left: 3px solid #3498db;
        }

        .standard-title {
            font-weight: 600;
            color: #2c3e50;
            font-size: 0.75rem;
            margin-bottom: 4px;
        }

        .standard-text {
            color: #666;
            font-size: 0.7rem;
        }

        /* í’ˆì§ˆ ì°¨íŠ¸ ìŠ¤íƒ€ì¼ */
        .quality-bar {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            gap: 10px;
        }

        .quality-label {
            width: 60px;
            font-weight: 600;
            font-size: 0.8rem;
            text-align: right;
        }

        .quality-excellent { color: var(--success); }
        .quality-good { color: var(--primary-blue); }
        .quality-average { color: var(--warning); }
        .quality-poor { color: var(--text-muted); }
        .quality-bad { color: var(--danger); }

        .bar-container {
            flex: 1;
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.8s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 8px;
            color: white;
            font-weight: bold;
            font-size: 0.7rem;
        }

        .bar-excellent { background: linear-gradient(45deg, var(--success), #34ce57); }
        .bar-good { background: linear-gradient(45deg, var(--primary-blue), var(--blue-light)); }
        .bar-average { background: linear-gradient(45deg, var(--warning), #ffc107); }
        .bar-poor { background: linear-gradient(45deg, var(--text-muted), var(--gray-light)); }
        .bar-bad { background: linear-gradient(45deg, var(--danger), #dc3545); }

        .quality-count {
            width: 30px;
            text-align: center;
            font-weight: bold;
            color: #2c3e50;
            font-size: 0.8rem;
        }

        /* ì±—ë´‡ ìŠ¤íƒ€ì¼ */
.chat-messages {
    flex: 1;
    overflow-y: auto;
    background: #f8f9fa;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 10px;
    min-height: 400px;  /* ê³ ì • ë†’ì´ë¡œ ë³€ê²½ */
}

        .chat-message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 12px;
            max-width: 85%;
            word-wrap: break-word;
            font-size: 0.8rem;
        }

        .chat-bot {
            background: #ffffff; /* ì¹´ì¹´ì˜¤í†¡ì²˜ëŸ¼ í°ìƒ‰ */
            color: #2c3e50;
            margin-right: auto;
            border: 1px solid #e9ecef; /* ì—°í•œ í…Œë‘ë¦¬ ì¶”ê°€ */
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); /* ë¯¸ë¬˜í•œ ê·¸ë¦¼ì */
        }

        .chat-user {
            background: #fee500; /* ì¹´ì¹´ì˜¤í†¡ ë…¸ë€ìƒ‰ */
            color: #2c3e50;
            margin-left: auto;
        }

        .chat-input-container {
            display: flex;
            gap: 8px;
        }

        .chat-input {
            flex: 1;
            padding: 10px 12px;
            border: 2px solid #bdc3c7;
            border-radius: 20px;
            outline: none;
            font-size: 0.8rem;
        }

        .chat-send {
            background: linear-gradient(45deg, var(--primary-blue), var(--blue-dark));
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.8rem;
        }

        /* í”„ë¡œì íŠ¸ ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .project-list {
            flex: 1;
            overflow-y: auto;
            max-height: 300px;
        }

        .project-item {
            background: rgba(255, 255, 255, 0.1);
            margin-bottom: 8px;
            padding: 10px;
            border-radius: 6px;
            border-left: 3px solid #f39c12;
        }

        .project-name {
            font-weight: 600;
            font-size: 0.8rem;
            margin-bottom: 3px;
            color: white;
        }

        .project-location {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 6px;
        }

        .project-progress {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .progress-bar {
            flex: 1;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            border-radius: 2px;
        }

        .progress-text {
            font-size: 0.7rem;
            color: #f39c12;
            font-weight: bold;
            min-width: 30px;
        }

        /* ì•Œë¦¼ */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, var(--primary-dark), var(--primary-blue));
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            font-size: 0.8rem;
            max-width: 280px;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 1200px) {
            .main-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .left-column, .center-column, .right-column {
                grid-template-rows: auto;
                grid-template-columns: 1fr;
            }
            
            .regions-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (min-width: 1200px) {
            .header h1 {
                font-size: 2.2rem;
            }
            
            .section-title {
                font-size: 1.3rem;
            }
            
            .regions-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (min-width: 1440px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .section-title {
                font-size: 1.4rem;
            }
            
            .regions-grid {
                grid-template-columns: 1fr 1fr 1fr;
                gap: 18px;
            }
        }

        @media (min-width: 1920px) {
            .header h1 {
                font-size: 2.8rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
        }
/* ë“œë˜ê·¸ ì•¤ ë“œë¡­ ìŠ¤íƒ€ì¼ */
.grid-item {
    cursor: move;
    user-select: none;
    transition: all 0.3s ease;
}

.grid-item.dragging {
    opacity: 0.5;
    transform: scale(0.95);
    z-index: 1000;
    pointer-events: none;
}

.grid-item.drag-over {
    border: 3px dashed #3498db;
    background: rgba(52, 152, 219, 0.1);
}

.empty-slot {
    cursor: move;
}

.empty-slot.dragging {
    opacity: 0.3;
}

.drag-indicator {
    position: absolute;
    top: 5px;
    right: 5px;
    background: rgba(44, 90, 160, 0.8);
    color: white;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    cursor: grab;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.grid-item:hover .drag-indicator {
    opacity: 1;
}

.drag-indicator:hover {
    cursor: grabbing;
}
/* í’ˆì§ˆí†µì§€ì„œ í˜„í™© í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
.notice-status-table {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.status-table {
    width: 100%;
    border-collapse: collapse;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    background: white;
}

.table-header {
    background: linear-gradient(45deg, #34495e, #2c3e50);
    color: white;
    padding: 12px 8px;
    text-align: center;
    font-weight: 600;
    font-size: 0.85rem;
    border: none;
}

.table-header:first-child {
    width: 35%;
}

.table-header:not(:first-child) {
    width: 21.67%;
}

.excellent-row {
    background: linear-gradient(90deg, rgba(39, 174, 96, 0.05), rgba(46, 204, 113, 0.05));
    border-left: 4px solid #27ae60;
}

.poor-row {
    background: linear-gradient(90deg, rgba(231, 76, 60, 0.05), rgba(192, 57, 43, 0.05));
    border-left: 4px solid #e74c3c;
}

.notice-type {
    padding: 12px 10px;
    font-weight: 600;
    font-size: 0.8rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.excellent-type {
    color: #27ae60;
}

.poor-type {
    color: #e74c3c;
}

.notice-icon {
    font-size: 1rem;
}

.count-cell {
    padding: 12px 8px;
    text-align: center;
    font-weight: 700;
    font-size: 0.9rem;
    border: none;
}

.excellent-count {
    background: linear-gradient(90deg, var(--blue-bg), rgba(255, 255, 255, 1));
    border-left: 4px solid var(--primary-blue);
    color: var(--primary-blue);
}

.poor-count {
    color: #e74c3c;
    background: rgba(231, 76, 60, 0.1);
}

/* ìš”ì•½ ì •ë³´ ìŠ¤íƒ€ì¼ */
.notice-summary {
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    border-radius: 10px;
    padding: 15px;
    border: 1px solid #dee2e6;
}

.summary-stats {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px;
}

.stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
    flex: 1;
    padding: 8px;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.excellent-stat {
    background: rgba(39, 174, 96, 0.1);
    border: 2px solid rgba(39, 174, 96, 0.2);
}

.poor-stat {
    background: rgba(231, 76, 60, 0.1);
    border: 2px solid rgba(231, 76, 60, 0.2);
}

.ratio-stat {
    background: rgba(52, 152, 219, 0.1);
    border: 2px solid rgba(52, 152, 219, 0.2);
}

.stat-label {
    font-size: 0.75rem;
    font-weight: 500;
    color: #666;
    text-align: center;
}

.stat-value {
    font-size: 1.1rem;
    font-weight: 700;
    color: #2c3e50;
}

.excellent-stat .stat-value {
    color: #27ae60;
}

.poor-stat .stat-value {
    color: #e74c3c;
}

.ratio-stat .stat-value {
    color: #3498db;
}

/* í˜¸ë²„ íš¨ê³¼ */
.stat-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* ë°˜ì‘í˜• */
@media (max-width: 1440px) {
    .summary-stats {
        flex-direction: column;
        gap: 8px;
    }
    
    .stat-item {
        flex-direction: row;
        justify-content: space-between;
        width: 100%;
    }
    
    .table-header, .count-cell, .notice-type {
        font-size: 0.75rem;
        padding: 8px 6px;
    }
}
/* í’ˆì§ˆ ì°¨íŠ¸ í•„í„° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.quality-filter-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 20px;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 8px;
}

.filter-btn {
    padding: 6px 12px;
    border: 1px solid #e0e0e0;
    border-radius: 15px;
    background: white;
    color: #666;
    font-size: 0.75rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
}

.filter-btn:hover {
    border-color: var(--primary-blue);
    color: var(--primary-blue);
    transform: translateY(-1px);
}

.filter-btn.active {
    background: linear-gradient(45deg, var(--primary-blue), var(--blue-dark));
    color: white;
    border-color: var(--primary-blue);
    font-weight: 600;
}

.filter-btn.active:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(44, 90, 160, 0.3);
}
/* ë ˆë¯¸ì½˜ ìš”ì•½ ì •ë³´ ìŠ¤íƒ€ì¼ (ë„ë¡œ í¬ì¥ê³¼ ë™ì¼í•œ ìƒ‰ìƒ) */
.concrete-summary {
    display: flex;
    justify-content: space-between;
    background: linear-gradient(45deg, var(--primary-gray), var(--gray-dark)); /* ë„ë¡œ í¬ì¥ê³¼ ë™ì¼í•œ ìƒ‰ìƒ */
    color: white;
    padding: 10px 20px;
    border-radius: 10px;
    margin-bottom: 20px;
    margin-top: 10px;
    font-weight: 600;
    box-shadow: 0 4px 12px rgba(108, 117, 125, 0.2);
}

.summary-item {
    display: flex;
    align-items: center;
    gap: 8px;
}

.summary-label {
    font-size: 0.85rem;
    opacity: 0.9;
    font-weight: 500;
}

.summary-value {
    font-size: 1.2rem;
    font-weight: bold;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* í˜„ì¥ ì•„ì´í…œ ë ˆì´ì•„ì›ƒ ê°œì„  */
.site-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 12px 0;
    border-bottom: 1px solid #f0f0f0;
    min-height: 60px;
    position: relative;
}

.site-info {
    flex: 1;
    min-width: 0;
}

/* íƒ€ì„¤ëŸ‰ ì •ë³´ë¥¼ ê³ ì • ìœ„ì¹˜ì— */
.volume-info {
    position: absolute;
    right: 50px;
    display: flex;
    align-items: center;
    background: rgba(230, 126, 34, 0.1);
    padding: 6px 10px;
    border-radius: 6px;
    border-left: 3px solid #e67e22;
    min-width: 70px;
    justify-content: center;
}

.volume-amount {
    font-weight: bold;
    color: #e67e22;
    font-size: 0.85rem;
    margin-right: 2px;
}

.volume-unit {
    font-size: 0.75rem;
    color: #d35400;
    font-weight: 600;
}
.clickable {
    cursor: pointer;
    transition: all 0.3s ease;
}

.clickable:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}
/* ë‚ ì”¨ ì•„ì´ì½˜ì„ ë§¨ ì˜¤ë¥¸ìª½ì— ê³ ì • */
.weather-icon {
    position: absolute;
    right: 10px;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    font-weight: bold;
    flex-shrink: 0;
    cursor: pointer;
    transition: all 0.3s ease;
}
/* ê¸°íƒ€ ê²€ìƒ‰ ì»¨í…Œì´ë„ˆ */
.work-search-container {
    display: none; /* ì´ˆê¸°ì—ëŠ” ì™„ì „íˆ ìˆ¨ê¹€ */
    align-items: center;
    gap: 6px;
    margin-left: 10px;
    transition: all 0.3s ease;
    overflow: hidden;
    opacity: 0;
}

.work-search-container.show {
    display: flex; /* ë³´ì´ëŠ” ìƒíƒœì—ì„œëŠ” flex */
    max-height: 60px;
    opacity: 1;
}

.work-search-input {
    padding: 6px 12px;
    border: 2px solid #e0e0e0;
    border-radius: 15px;
    font-size: 0.85rem;
    width: 200px;
    outline: none;
    transition: border-color 0.3s ease;
}

.work-search-input:focus {
    border-color: #3498db;
    box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.1);
}

.work-search-btn {
    background: linear-gradient(45deg, var(--primary-blue), var(--blue-dark));
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 15px;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
}

.work-search-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(44, 90, 160, 0.3);
}
/* êµ¬ì¡°ë¬¼ í˜„í™© í…Œì´ë¸” ìŠ¤íƒ€ì¼ - ê°€ë¡œí˜• (í’ˆì§ˆê´€ë¦¬ì í…Œì´ë¸”ê³¼ ë™ì¼í•œ ìƒ‰ìƒ) */
.structure-status-table {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.structure-filter-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-bottom: 20px;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 8px;
}

.structure-table-horizontal {
    width: 100%;
    border-collapse: collapse;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    background: white;
}

.structure-header-horizontal {
    background: linear-gradient(45deg, var(--primary-blue), var(--blue-dark)); /* í’ˆì§ˆê´€ë¦¬ìì™€ ë™ì¼í•œ ìƒ‰ìƒ */
    color: white;
    padding: 12px 8px;
    text-align: center;
    font-weight: 600;
    font-size: 0.85rem;
    border: none;
    width: 20%;
}

.structure-data-row {
    transition: all 0.3s ease;
}

.structure-data-row:hover {
    background: rgba(52, 152, 219, 0.05);
}

.structure-count-cell {
    padding: 20px 15px;
    text-align: center;
    font-weight: 700;
    font-size: 1.0rem;
    color: #2c3e50;
    border-bottom: 1px solid #f0f0f0;
    cursor: pointer;
    transition: all 0.3s ease;
}

.structure-count-cell:hover {
    background: rgba(52, 152, 219, 0.1);
    transform: translateY(-1px);
}

.structure-count-cell.bridge-clickable {
    color: var(--primary-green);
    cursor: pointer;
}

.structure-count-cell.bridge-clickable:hover {
    background: var(--green-bg);
    color: var(--green-dark);
}

/* êµëŸ‰ ìƒì„¸ ëª¨ë‹¬ */
.bridge-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.bridge-modal.show {
    opacity: 1;
    visibility: visible;
}

.bridge-modal-content {
    background: white;
    border-radius: 15px;
    padding: 25px;
    width: 90%;
    max-width: 1000px;
    max-height: 80vh;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    transform: scale(0.8);
    transition: transform 0.3s ease;
    display: flex;
    flex-direction: column;
}

.bridge-modal.show .bridge-modal-content {
    transform: scale(1);
}

.bridge-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid #f0f0f0;
}

.bridge-modal-title {
    font-size: 1.3rem;
    font-weight: 700;
    color: #2c3e50;
    display: flex;
    align-items: center;
    gap: 10px;
}

.bridge-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #bbb;
    transition: color 0.3s ease;
}

.bridge-close:hover {
    color: #e74c3c;
}

.bridge-filter-container {
    display: flex;
    gap: 15px;
    margin-bottom: 20px;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 10px;
    flex-wrap: wrap;
}

.bridge-filter-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.bridge-filter-label {
    font-size: 0.8rem;
    font-weight: 600;
    color: #666;
}

.bridge-filter-select {
    padding: 6px 10px;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-size: 0.85rem;
    background: white;
    cursor: pointer;
}

.bridge-table-container {
    flex: 1;
    overflow-y: auto;
    max-height: 400px;
}

.bridge-table {
    width: 100%;
    border-collapse: collapse;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    background: white;
}

.bridge-table th {
    background: linear-gradient(45deg, #e67e22, #f39c12);
    color: white;
    padding: 12px 8px;
    text-align: center;
    font-weight: 600;
    font-size: 0.85rem;
}

.bridge-table td {
    padding: 10px 8px;
    text-align: center;
    font-size: 0.8rem;
    border-bottom: 1px solid #f0f0f0;
}

.bridge-table tbody tr:hover {
    background: rgba(230, 126, 34, 0.05);
}

.bridge-name {
    font-weight: 600;
    color: #2c3e50;
    text-align: left !important;
}
/* ìƒˆë¡œìš´ CSS ì—¬ê¸°ê¹Œì§€ ğŸ‘† */

    </style>
</head>
<body>
    <div class="dashboard-container">
<div class="header">
    <h1>ì‹¤ì‹œê°„ ì¢…í•©ê±´ì„¤ì •ë³´(RICS) - í’ˆì§ˆê´€ë¦¬</h1>
    
    <!-- ì‘ì—… í•„í„° ì²´í¬ë°•ìŠ¤ -->
    <div class="work-filter-container">
        <span class="work-filter-title">ì‘ì—… í•„í„°:</span>
        <div class="work-checkbox-group">
            <div class="work-checkbox-item checked" onclick="toggleWorkFilter(this)">
                <input type="checkbox" class="work-checkbox" checked>
                <span class="work-checkbox-label">ğŸš› ë ˆë¯¸ì½˜ íƒ€ì„¤</span>
            </div>
            <div class="work-checkbox-item checked" onclick="toggleWorkFilter(this)">
                <input type="checkbox" class="work-checkbox" checked>
                <span class="work-checkbox-label">ğŸ›£ï¸ ë„ë¡œ í¬ì¥</span>
            </div>
            <div class="work-checkbox-item checked" onclick="toggleWorkFilter(this)">
                <input type="checkbox" class="work-checkbox" checked>
                <span class="work-checkbox-label">âš’ï¸ ë‹¤ì§</span>
            </div>
            <div class="work-checkbox-item" onclick="toggleWorkFilter(this)">
                <input type="checkbox" class="work-checkbox">
                <span class="work-checkbox-label">ğŸ”§ ì² ê·¼ ì¡°ë¦½</span>
            </div>
            <div class="work-checkbox-item" onclick="toggleWorkFilter(this)">
                <input type="checkbox" class="work-checkbox">
                <span class="work-checkbox-label">ğŸ›¡ï¸ ë°©ìˆ˜ ê³µì‚¬</span>
            </div>
<div class="work-checkbox-item" onclick="toggleWorkFilter(this)">
    <input type="checkbox" class="work-checkbox">
    <span class="work-checkbox-label">ğŸ” ê¸°íƒ€</span>
</div>
<div class="work-search-container" id="work-search-container">
    <input type="text" class="work-search-input" id="work-search-input" placeholder="ì‘ì—… í‚¤ì›Œë“œ ê²€ìƒ‰...">
    <button class="work-search-btn" onclick="searchWork()">ê²€ìƒ‰</button>
</div>
        </div>
    </div>
</div>

<div class="main-grid">
            <!-- ì™¼ìª½ ì»¬ëŸ¼ (3í–‰) -->
            <div class="left-column">
 <!-- 1ë²ˆ: í˜„ì¥ í’ˆì§ˆë“±ê¸‰ í˜„í™© -->
                <div class="grid-item" draggable="true" data-widget-id="1">
                    <div class="drag-indicator">â‹®â‹®</div>
                    <h2 class="section-title">ğŸ“Š í˜„ì¥ í’ˆì§ˆë“±ê¸‰ í˜„í™©</h2>
                    <div class="quality-filter-buttons" id="quality-filter-buttons">
                        <button class="filter-btn active" data-region="ì „êµ­">ì „êµ­</button>
                        <button class="filter-btn" data-region="ìˆ˜ë„ê¶Œ">ìˆ˜ë„ê¶Œ</button>
                        <button class="filter-btn" data-region="ê°•ì›ê¶Œ">ê°•ì›ê¶Œ</button>
                        <button class="filter-btn" data-region="ì¶©ì²­ê¶Œ">ì¶©ì²­ê¶Œ</button>
                        <button class="filter-btn" data-region="ì˜ë‚¨ê¶Œ">ì˜ë‚¨ê¶Œ</button>
                        <button class="filter-btn" data-region="í˜¸ë‚¨ê¶Œ">í˜¸ë‚¨ê¶Œ</button>
                        <button class="filter-btn" data-region="ì œì£¼ê¶Œ">ì œì£¼ê¶Œ</button>
                    </div>
                    <div id="quality-chart"></div>
                </div>

<!-- 2ë²ˆ: í’ˆì§ˆê´€ë¦¬ ì£¼ìš” êµ¬ì¡°ë¬¼ ë° ìì¬ í˜„í™© -->
<div class="grid-item" draggable="true" data-widget-id="2">
    <div class="drag-indicator">â‹®â‹®</div>
    <h2 class="section-title">ğŸ—ï¸ í’ˆì§ˆê´€ë¦¬ ì£¼ìš” êµ¬ì¡°ë¬¼ ë° ìì¬ í˜„í™©</h2>
    <div class="structure-filter-buttons" id="structure-filter-buttons">
        <button class="filter-btn active" data-region="ì „êµ­">ì „êµ­</button>
        <button class="filter-btn" data-region="ìˆ˜ë„ê¶Œ">ìˆ˜ë„ê¶Œ</button>
        <button class="filter-btn" data-region="ê°•ì›ê¶Œ">ê°•ì›ê¶Œ</button>
        <button class="filter-btn" data-region="ì¶©ì²­ê¶Œ">ì¶©ì²­ê¶Œ</button>
        <button class="filter-btn" data-region="ì˜ë‚¨ê¶Œ">ì˜ë‚¨ê¶Œ</button>
        <button class="filter-btn" data-region="í˜¸ë‚¨ê¶Œ">í˜¸ë‚¨ê¶Œ</button>
        <button class="filter-btn" data-region="ì œì£¼ê¶Œ">ì œì£¼ê¶Œ</button>
    </div>
    <div class="structure-status-table">
        <table class="structure-table-horizontal">
            <thead>
                <tr>
                    <th class="structure-header-horizontal">ğŸŒ‰ êµëŸ‰</th>
                    <th class="structure-header-horizontal">ğŸ§± ì˜¹ë²½</th>
                    <th class="structure-header-horizontal">ğŸš‡ ì§€í•˜ì°¨ë„</th>
                    <th class="structure-header-horizontal">âš™ï¸ íŒí”„ì¥</th>
                    <th class="structure-header-horizontal">ğŸŒŠ í•˜ì²œ</th>
                </tr>
            </thead>
            <tbody>
                <tr class="structure-data-row" id="structure-data-row">
                    <!-- ë™ì ìœ¼ë¡œ ìƒì„± -->
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- 3ë²ˆ: í’ˆì§ˆê´€ë¦¬ì ë°°ì¹˜ê¸°ì¤€ í˜„í™© -->
<div class="grid-item" draggable="true" data-widget-id="3">
    <div class="drag-indicator">â‹®â‹®</div>
    <div class="section-header">
        <h2 class="section-title">ğŸ‘·â€â™‚ï¸ í’ˆì§ˆê´€ë¦¬ì ë°°ì¹˜ê¸°ì¤€ í˜„í™©</h2>
        <button class="sms-button" onclick="showManagerCriteria()">ğŸ“‹ ë°°ì¹˜ ê¸°ì¤€</button>
    </div>
    <div class="quality-manager-filter-buttons" id="quality-manager-filter-buttons">
        <button class="filter-btn active" data-region="ì „êµ­">ì „êµ­</button>
        <button class="filter-btn" data-region="ìˆ˜ë„ê¶Œ">ìˆ˜ë„ê¶Œ</button>
        <button class="filter-btn" data-region="ê°•ì›ê¶Œ">ê°•ì›ê¶Œ</button>
        <button class="filter-btn" data-region="ì¶©ì²­ê¶Œ">ì¶©ì²­ê¶Œ</button>
        <button class="filter-btn" data-region="ì˜ë‚¨ê¶Œ">ì˜ë‚¨ê¶Œ</button>
        <button class="filter-btn" data-region="í˜¸ë‚¨ê¶Œ">í˜¸ë‚¨ê¶Œ</button>
        <button class="filter-btn" data-region="ì œì£¼ê¶Œ">ì œì£¼ê¶Œ</button>
    </div>
    <div class="quality-manager-table">
        <table class="manager-table-horizontal">
            <thead>
                <tr>
                    <th class="manager-header-horizontal">êµ¬ë¶„</th>
                    <th class="manager-header-horizontal">ğŸ”¥ íŠ¹ê¸‰</th>
                    <th class="manager-header-horizontal">â­ ê³ ê¸‰</th>
                    <th class="manager-header-horizontal">ğŸ› ï¸ ì¤‘ê¸‰</th>
                    <th class="manager-header-horizontal">ğŸ“‹ ì´ˆê¸‰</th>
                </tr>
            </thead>
            <tbody id="manager-table-body-horizontal">
                <!-- ë™ì ìœ¼ë¡œ ìƒì„± -->
            </tbody>
        </table>
    </div>
</div>
            </div>

            <!-- ê°€ìš´ë° ì»¬ëŸ¼ (2í–‰) -->
            <div class="center-column">
<!-- 4ë²ˆ: ê¸ˆì¼ ë ˆë¯¸ì½˜ íƒ€ì„¤ í˜„ì¥ -->
                <div class="grid-item" draggable="true" data-widget-id="4">
                    <div class="drag-indicator">â‹®â‹®</div>
                    <div class="section-header">
                        <h2 class="section-title">ğŸš› ê¸ˆì¼ ë ˆë¯¸ì½˜ íƒ€ì„¤ í˜„ì¥</h2>
                        <button class="sms-button" id="sms-button">ğŸ“± ë¬¸ì ë°œì†¡</button>
                    </div>
                    <div class="concrete-filter-buttons" id="concrete-filter-buttons">
                        <button class="filter-btn active" data-region="ì „êµ­">ì „êµ­</button>
                        <button class="filter-btn" data-region="ìˆ˜ë„ê¶Œ">ìˆ˜ë„ê¶Œ</button>
                        <button class="filter-btn" data-region="ê°•ì›ê¶Œ">ê°•ì›ê¶Œ</button>
                        <button class="filter-btn" data-region="ì¶©ì²­ê¶Œ">ì¶©ì²­ê¶Œ</button>
                        <button class="filter-btn" data-region="ì˜ë‚¨ê¶Œ">ì˜ë‚¨ê¶Œ</button>
                        <button class="filter-btn" data-region="í˜¸ë‚¨ê¶Œ">í˜¸ë‚¨ê¶Œ</button>
                        <button class="filter-btn" data-region="ì œì£¼ê¶Œ">ì œì£¼ê¶Œ</button>
                    </div>
                    <div class="concrete-summary" id="concrete-summary">
                        <div class="summary-item">
                            <span class="summary-label">í˜„ì¥ ìˆ˜:</span>
                            <span class="summary-value" id="concrete-site-count">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">ì´ íƒ€ì„¤ëŸ‰:</span>
                            <span class="summary-value" id="concrete-total-volume">-</span>
                        </div>
                    </div>
                    <div class="site-list" id="concrete-sites"></div>
                </div>

                <!-- 5ë²ˆ: ê¸ˆì¼ ë„ë¡œ í¬ì¥ í˜„ì¥ -->
<!-- 5ë²ˆ: ê¸ˆì¼ ë„ë¡œ í¬ì¥ í˜„ì¥ -->
<div class="grid-item" draggable="true" data-widget-id="5">
    <div class="drag-indicator">â‹®â‹®</div>
    <div class="section-header">
        <h2 class="section-title">ğŸ›£ï¸ ê¸ˆì¼ ë„ë¡œ í¬ì¥ í˜„ì¥</h2>
        <button class="sms-button" id="paving-sms-button">ğŸ“± ë¬¸ì ë°œì†¡</button>
    </div>
    <div class="paving-filter-buttons" id="paving-filter-buttons">
        <button class="filter-btn active" data-region="ì „êµ­">ì „êµ­</button>
        <button class="filter-btn" data-region="ìˆ˜ë„ê¶Œ">ìˆ˜ë„ê¶Œ</button>
        <button class="filter-btn" data-region="ê°•ì›ê¶Œ">ê°•ì›ê¶Œ</button>
        <button class="filter-btn" data-region="ì¶©ì²­ê¶Œ">ì¶©ì²­ê¶Œ</button>
        <button class="filter-btn" data-region="ì˜ë‚¨ê¶Œ">ì˜ë‚¨ê¶Œ</button>
        <button class="filter-btn" data-region="í˜¸ë‚¨ê¶Œ">í˜¸ë‚¨ê¶Œ</button>
        <button class="filter-btn" data-region="ì œì£¼ê¶Œ">ì œì£¼ê¶Œ</button>
    </div>
    <div class="paving-summary" id="paving-summary">
        <div class="summary-item">
            <span class="summary-label">í˜„ì¥ ìˆ˜:</span>
            <span class="summary-value" id="paving-site-count">-</span>
        </div>
        <div class="summary-item">
            <span class="summary-label">ì´ í¬ì¥ë©´ì :</span>
            <span class="summary-value" id="paving-total-area">-</span>
        </div>
    </div>
    <div class="site-list" id="paving-sites"></div>
</div>
            </div>

            <!-- ì˜¤ë¥¸ìª½ ì»¬ëŸ¼ (2í–‰) -->
            <div class="right-column">
                <!-- 6ë²ˆ: ê¸ˆì¼ ë‹¤ì§ í˜„ì¥ -->
                <div class="grid-item" draggable="true" data-widget-id="6">
                    <div class="drag-indicator">â‹®â‹®</div>
                    <h2 class="section-title">âš’ï¸ ê¸ˆì¼ ë‹¤ì§ í˜„ì¥</h2>
                    <div class="site-list" id="compaction-sites"></div>
                </div>

                <!-- 7ë²ˆ: í’ˆì§ˆê´€ë¦¬ ë„ìš°ë¯¸ -->
<div class="grid-item" draggable="true" data-widget-id="7">
    <div class="drag-indicator">â‹®â‹®</div>
    <h2 class="section-title">ğŸ¤– í’ˆì§ˆê´€ë¦¬ ë„ìš°ë¯¸</h2>
<div class="chat-messages" id="chat-messages">
    <div class="chat-message chat-bot">
        ì•ˆë…•í•˜ì„¸ìš”! ê±´ì„¤ê³µì‚¬ í’ˆì§ˆê´€ë¦¬ì— ëŒ€í•´ ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ë¬¼ì–´ë³´ì„¸ìš”.
    </div>
    <div class="chat-message chat-user">
        ê°•ìš°ì‹œ ì½˜í¬ë¦¬íŠ¸ íƒ€ì„¤ ê¸°ì¤€ì€?
    </div>
    <div class="chat-message chat-bot">
        ê°•ìš°ì‹œ ì½˜í¬ë¦¬íŠ¸ íƒ€ì„¤ ê¸°ì¤€ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:<br><br>
        â€¢ ê°•ìˆ˜ëŸ‰: ì‹œê°„ë‹¹ 15mm ì´í•˜<br>
        â€¢ ì¼ ê°•ìˆ˜ëŸ‰: 50mm ì´í•˜<br>
        â€¢ ê°•ìš° ì¤‘ íƒ€ì„¤ ê¸ˆì§€ ì›ì¹™<br>
        â€¢ íƒ€ì„¤ í›„ 2ì‹œê°„ ì´ë‚´ ê°•ìš° ì‹œ ì–‘ìƒë³´í˜¸ í•„ìˆ˜<br>
        â€¢ ê°•ìš° ì˜ˆë³´ ì‹œ íƒ€ì„¤ ê³„íš ì¡°ì • ê¶Œì¥<br><br>
        ğŸ’¡ í˜„ì¬ ëŒ€ì‹œë³´ë“œì—ì„œ ì‹¤ì‹œê°„ ê¸°ìƒì •ë³´ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤!
    </div>
</div>
    <div class="chat-input-container">
        <input type="text" class="chat-input" id="chat-input" placeholder="í’ˆì§ˆê´€ë¦¬ ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”...">
        <button class="chat-send" id="chat-send-btn">ì „ì†¡</button>
            </div>
        </div>
    </div>

    <script>
        // ë°ì´í„°
// í’ˆì§ˆê´€ë¦¬ì ë°°ì¹˜ê¸°ì¤€ ë°ì´í„°
// êµ¬ì¡°ë¬¼ í˜„í™© ë°ì´í„°
var structureData = {
    'ì „êµ­': [
        { type: 'êµëŸ‰', icon: 'ğŸŒ‰', count: 1247, progress: 78, status: 'good', statusText: 'ì–‘í˜¸' },
        { type: 'ì˜¹ë²½', icon: 'ğŸ§±', count: 892, progress: 85, status: 'good', statusText: 'ì–‘í˜¸' },
        { type: 'ì§€í•˜ì°¨ë„', icon: 'ğŸš‡', count: 156, progress: 62, status: 'delay', statusText: 'ì§€ì—°' },
        { type: 'íŒí”„ì¥', icon: 'âš™ï¸', count: 89, progress: 71, status: 'normal', statusText: 'ë³´í†µ' },
        { type: 'í•˜ì²œ', icon: 'ğŸŒŠ', count: 234, progress: 82, status: 'good', statusText: 'ì–‘í˜¸' }
    ],
    'ìˆ˜ë„ê¶Œ': [
        { type: 'êµëŸ‰', icon: 'ğŸŒ‰', count: 487, progress: 81, status: 'good', statusText: 'ì–‘í˜¸' },
        { type: 'ì˜¹ë²½', icon: 'ğŸ§±', count: 342, progress: 88, status: 'good', statusText: 'ì–‘í˜¸' },
        { type: 'ì§€í•˜ì°¨ë„', icon: 'ğŸš‡', count: 78, progress: 65, status: 'delay', statusText: 'ì§€ì—°' },
        { type: 'íŒí”„ì¥', icon: 'âš™ï¸', count: 34, progress: 74, status: 'normal', statusText: 'ë³´í†µ' },
        { type: 'í•˜ì²œ', icon: 'ğŸŒŠ', count: 89, progress: 79, status: 'good', statusText: 'ì–‘í˜¸' }
    ],
    'ê°•ì›ê¶Œ': [
        { type: 'êµëŸ‰', icon: 'ğŸŒ‰', count: 156, progress: 72, status: 'normal', statusText: 'ë³´í†µ' },
        { type: 'ì˜¹ë²½', icon: 'ğŸ§±', count: 98, progress: 76, status: 'good', statusText: 'ì–‘í˜¸' },
        { type: 'ì§€í•˜ì°¨ë„', icon: 'ğŸš‡', count: 12, progress: 58, status: 'delay', statusText: 'ì§€ì—°' },
        { type: 'íŒí”„ì¥', icon: 'âš™ï¸', count: 8, progress: 67, status: 'normal', statusText: 'ë³´í†µ' },
        { type: 'í•˜ì²œ', icon: 'ğŸŒŠ', count: 34, progress: 81, status: 'good', statusText: 'ì–‘í˜¸' }
    ],
    'ì¶©ì²­ê¶Œ': [
        { type: 'êµëŸ‰', icon: 'ğŸŒ‰', count: 234, progress: 76, status: 'good', statusText: 'ì–‘í˜¸' },
        { type: 'ì˜¹ë²½', icon: 'ğŸ§±', count: 167, progress: 83, status: 'good', statusText: 'ì–‘í˜¸' },
        { type: 'ì§€í•˜ì°¨ë„', icon: 'ğŸš‡', count: 23, progress: 61, status: 'delay', statusText: 'ì§€ì—°' },
        { type: 'íŒí”„ì¥', icon: 'âš™ï¸', count: 15, progress: 69, status: 'normal', statusText: 'ë³´í†µ' },
        { type: 'í•˜ì²œ', icon: 'ğŸŒŠ', count: 45, progress: 84, status: 'good', statusText: 'ì–‘í˜¸' }
    ],
    'ì˜ë‚¨ê¶Œ': [
        { type: 'êµëŸ‰', icon: 'ğŸŒ‰', count: 298, progress: 79, status: 'good', statusText: 'ì–‘í˜¸' },
        { type: 'ì˜¹ë²½', icon: 'ğŸ§±', count: 221, progress: 87, status: 'good', statusText: 'ì–‘í˜¸' },
        { type: 'ì§€í•˜ì°¨ë„', icon: 'ğŸš‡', count: 34, progress: 64, status: 'delay', statusText: 'ì§€ì—°' },
        { type: 'íŒí”„ì¥', icon: 'âš™ï¸', count: 25, progress: 73, status: 'normal', statusText: 'ë³´í†µ' },
        { type: 'í•˜ì²œ', icon: 'ğŸŒŠ', count: 52, progress: 85, status: 'good', statusText: 'ì–‘í˜¸' }
    ],
    'í˜¸ë‚¨ê¶Œ': [
        { type: 'êµëŸ‰', icon: 'ğŸŒ‰', count: 187, progress: 75, status: 'good', statusText: 'ì–‘í˜¸' },
        { type: 'ì˜¹ë²½', icon: 'ğŸ§±', count: 134, progress: 81, status: 'good', statusText: 'ì–‘í˜¸' },
        { type: 'ì§€í•˜ì°¨ë„', icon: 'ğŸš‡', count: 18, progress: 59, status: 'delay', statusText: 'ì§€ì—°' },
        { type: 'íŒí”„ì¥', icon: 'âš™ï¸', count: 12, progress: 68, status: 'normal', statusText: 'ë³´í†µ' },
        { type: 'í•˜ì²œ', icon: 'ğŸŒŠ', count: 28, progress: 83, status: 'good', statusText: 'ì–‘í˜¸' }
    ],
    'ì œì£¼ê¶Œ': [
        { type: 'êµëŸ‰', icon: 'ğŸŒ‰', count: 45, progress: 73, status: 'normal', statusText: 'ë³´í†µ' },
        { type: 'ì˜¹ë²½', icon: 'ğŸ§±', count: 32, progress: 78, status: 'good', statusText: 'ì–‘í˜¸' },
        { type: 'ì§€í•˜ì°¨ë„', icon: 'ğŸš‡', count: 3, progress: 55, status: 'delay', statusText: 'ì§€ì—°' },
        { type: 'íŒí”„ì¥', icon: 'âš™ï¸', count: 2, progress: 65, status: 'normal', statusText: 'ë³´í†µ' },
        { type: 'í•˜ì²œ', icon: 'ğŸŒŠ', count: 8, progress: 80, status: 'good', statusText: 'ì–‘í˜¸' }
    ]
};

var currentStructureRegion = 'ì „êµ­';

// êµëŸ‰ ìƒì„¸ ë°ì´í„°
var bridgeDetailData = [
    { name: 'í•œê°•ëŒ€êµ', type: 'íŠ¸ëŸ¬ìŠ¤êµ', method: 'FCMê³µë²•', length: 1005, span: 52.5, width: 27.0, region: 'ìˆ˜ë„ê¶Œ', status: 'ì‹œê³µì¤‘' },
    { name: 'ì ì‹¤ëŒ€êµ', type: 'í˜„ìˆ˜êµ', method: 'MSSê³µë²•', length: 1270, span: 65.0, width: 31.5, region: 'ìˆ˜ë„ê¶Œ', status: 'ì™„ë£Œ' },
    { name: 'ì„±ìˆ˜ëŒ€êµ', type: 'íŠ¸ëŸ¬ìŠ¤êµ', method: 'FCMê³µë²•', length: 1160, span: 58.0, width: 25.0, region: 'ìˆ˜ë„ê¶Œ', status: 'ì‹œê³µì¤‘' },
    { name: 'ì˜ì¢…ëŒ€êµ', type: 'í˜„ìˆ˜êµ', method: 'FCMê³µë²•', length: 4420, span: 300.0, width: 32.0, region: 'ìˆ˜ë„ê¶Œ', status: 'ì™„ë£Œ' },
    { name: 'ì¸ì²œëŒ€êµ', type: 'ì‚¬ì¥êµ', method: 'FCMê³µë²•', length: 21380, span: 800.0, width: 33.4, region: 'ìˆ˜ë„ê¶Œ', status: 'ì™„ë£Œ' },
    { name: 'ì—¬ìˆ˜ëŒ€êµ', type: 'ì‚¬ì¥êµ', method: 'MSSê³µë²•', length: 2260, span: 155.0, width: 23.5, region: 'í˜¸ë‚¨ê¶Œ', status: 'ì‹œê³µì¤‘' },
    { name: 'ì§„ë„ëŒ€êµ', type: 'ì‚¬ì¥êµ', method: 'FCMê³µë²•', length: 484, span: 344.0, width: 11.7, region: 'í˜¸ë‚¨ê¶Œ', status: 'ì™„ë£Œ' },
    { name: 'ê±°ì œëŒ€êµ', type: 'ì‚¬ì¥êµ', method: 'MSSê³µë²•', length: 8900, span: 115.0, width: 13.0, region: 'ì˜ë‚¨ê¶Œ', status: 'ì™„ë£Œ' },
    { name: 'ë¶€ì‚°ëŒ€êµ', type: 'í˜„ìˆ˜êµ', method: 'FCMê³µë²•', length: 2050, span: 540.0, width: 32.0, region: 'ì˜ë‚¨ê¶Œ', status: 'ì‹œê³µì¤‘' },
    { name: 'ìš¸ì‚°ëŒ€êµ', type: 'íŠ¸ëŸ¬ìŠ¤êµ', method: 'FCMê³µë²•', length: 1740, span: 85.0, width: 28.0, region: 'ì˜ë‚¨ê¶Œ', status: 'ì‹œê³µì¤‘' },
    { name: 'ëŒ€ì „ê³ ê°€êµ', type: 'ë°•ìŠ¤ê±°ë”êµ', method: 'FSMê³µë²•', length: 890, span: 45.0, width: 24.0, region: 'ì¶©ì²­ê¶Œ', status: 'ì™„ë£Œ' },
    { name: 'ì²­ì£¼ëŒ€êµ', type: 'íŠ¸ëŸ¬ìŠ¤êµ', method: 'FCMê³µë²•', length: 1320, span: 62.0, width: 26.5, region: 'ì¶©ì²­ê¶Œ', status: 'ì‹œê³µì¤‘' },
    { name: 'ì¶˜ì²œëŒ€êµ', type: 'ë°•ìŠ¤ê±°ë”êµ', method: 'FSMê³µë²•', length: 780, span: 40.0, width: 22.0, region: 'ê°•ì›ê¶Œ', status: 'ì™„ë£Œ' },
    { name: 'ê°•ë¦‰ëŒ€êµ', type: 'íŠ¸ëŸ¬ìŠ¤êµ', method: 'FCMê³µë²•', length: 1050, span: 55.0, width: 25.0, region: 'ê°•ì›ê¶Œ', status: 'ì‹œê³µì¤‘' },
    { name: 'ì œì£¼ëŒ€êµ', type: 'ë°•ìŠ¤ê±°ë”êµ', method: 'FSMê³µë²•', length: 680, span: 38.0, width: 20.0, region: 'ì œì£¼ê¶Œ', status: 'ì™„ë£Œ' }
];

var currentBridgeRegion = 'ì „ì²´';
var currentBridgeType = 'ì „ì²´';
var currentBridgeMethod = 'ì „ì²´';
var currentBridgeStatus = 'ì „ì²´';
var qualityManagerData = {
    'ì „êµ­': [
        { grade: 'íŠ¹ê¸‰', icon: 'ğŸ”¥', count: 8, type: 'special' },
        { grade: 'ê³ ê¸‰', icon: 'â­', count: 15, type: 'advanced' },
        { grade: 'ì¤‘ê¸‰', icon: 'ğŸ› ï¸', count: 42, type: 'intermediate' },
        { grade: 'ì´ˆê¸‰', icon: 'ğŸ“‹', count: 67, type: 'basic' }
    ],
    'ìˆ˜ë„ê¶Œ': [
        { grade: 'íŠ¹ê¸‰', icon: 'ğŸ”¥', count: 3, type: 'special' },
        { grade: 'ê³ ê¸‰', icon: 'â­', count: 6, type: 'advanced' },
        { grade: 'ì¤‘ê¸‰', icon: 'ğŸ› ï¸', count: 18, type: 'intermediate' },
        { grade: 'ì´ˆê¸‰', icon: 'ğŸ“‹', count: 28, type: 'basic' }
    ],
    'ê°•ì›ê¶Œ': [
        { grade: 'íŠ¹ê¸‰', icon: 'ğŸ”¥', count: 0, type: 'special' },
        { grade: 'ê³ ê¸‰', icon: 'â­', count: 1, type: 'advanced' },
        { grade: 'ì¤‘ê¸‰', icon: 'ğŸ› ï¸', count: 5, type: 'intermediate' },
        { grade: 'ì´ˆê¸‰', icon: 'ğŸ“‹', count: 8, type: 'basic' }
    ],
    'ì¶©ì²­ê¶Œ': [
        { grade: 'íŠ¹ê¸‰', icon: 'ğŸ”¥', count: 1, type: 'special' },
        { grade: 'ê³ ê¸‰', icon: 'â­', count: 2, type: 'advanced' },
        { grade: 'ì¤‘ê¸‰', icon: 'ğŸ› ï¸', count: 8, type: 'intermediate' },
        { grade: 'ì´ˆê¸‰', icon: 'ğŸ“‹', count: 12, type: 'basic' }
    ],
    'ì˜ë‚¨ê¶Œ': [
        { grade: 'íŠ¹ê¸‰', icon: 'ğŸ”¥', count: 3, type: 'special' },
        { grade: 'ê³ ê¸‰', icon: 'â­', count: 4, type: 'advanced' },
        { grade: 'ì¤‘ê¸‰', icon: 'ğŸ› ï¸', count: 15, type: 'intermediate' },
        { grade: 'ì´ˆê¸‰', icon: 'ğŸ“‹', count: 22, type: 'basic' }
    ],
    'í˜¸ë‚¨ê¶Œ': [
        { grade: 'íŠ¹ê¸‰', icon: 'ğŸ”¥', count: 1, type: 'special' },
        { grade: 'ê³ ê¸‰', icon: 'â­', count: 2, type: 'advanced' },
        { grade: 'ì¤‘ê¸‰', icon: 'ğŸ› ï¸', count: 6, type: 'intermediate' },
        { grade: 'ì´ˆê¸‰', icon: 'ğŸ“‹', count: 10, type: 'basic' }
    ],
    'ì œì£¼ê¶Œ': [
        { grade: 'íŠ¹ê¸‰', icon: 'ğŸ”¥', count: 0, type: 'special' },
        { grade: 'ê³ ê¸‰', icon: 'â­', count: 0, type: 'advanced' },
        { grade: 'ì¤‘ê¸‰', icon: 'ğŸ› ï¸', count: 2, type: 'intermediate' },
        { grade: 'ì´ˆê¸‰', icon: 'ğŸ“‹', count: 5, type: 'basic' }
    ]
};

var currentManagerRegion = 'ì „êµ­';

// í’ˆì§ˆê´€ë¦¬ì ê¸°ì¤€ ì •ë³´
var managerCriteria = {
    'íŠ¹ê¸‰': {
        title: 'ğŸ”¥ íŠ¹ê¸‰í’ˆì§ˆê´€ë¦¬ ëŒ€ìƒê³µì‚¬',
        criteria: [
            'ê³µì‚¬ë¹„ 1,000ì–µì› ì´ìƒ',
            '5ë§Œã¡ ì´ìƒ ë‹¤ì¤‘ì´ìš©ê±´ì¶•ë¬¼',
            'íŠ¹ê¸‰ê¸°ìˆ ì 1ëª… ì´ìƒ + ì¤‘ê¸‰ê¸°ìˆ ì 2ëª… ì´ìƒ',
            'ì‹œí—˜ì‹¤ ê·œëª¨: 50ã¡ ì´ìƒ',
            'í’ˆì§ˆê´€ë¦¬ê³„íšì„œ ìˆ˜ë¦½ ì˜ë¬´'
        ]
    },
    'ê³ ê¸‰': {
        title: 'â­ ê³ ê¸‰í’ˆì§ˆê´€ë¦¬ ëŒ€ìƒê³µì‚¬',
        criteria: [
            'ê³µì‚¬ë¹„ 500ì–µ~1,000ì–µì› ë¯¸ë§Œ',
            'íŠ¹ê¸‰í’ˆì§ˆê´€ë¦¬ ëŒ€ìƒì´ ì•„ë‹Œ ê³µì‚¬',
            'ê³ ê¸‰ê¸°ìˆ ì 1ëª… ì´ìƒ + ì¤‘ê¸‰ê¸°ìˆ ì 2ëª… ì´ìƒ',
            'ì‹œí—˜ì‹¤ ê·œëª¨: 50ã¡ ì´ìƒ',
            'í’ˆì§ˆê´€ë¦¬ê³„íšì„œ ìˆ˜ë¦½ ì˜ë¬´'
        ]
    },
    'ì¤‘ê¸‰': {
        title: 'ğŸ› ï¸ ì¤‘ê¸‰í’ˆì§ˆê´€ë¦¬ ëŒ€ìƒê³µì‚¬',
        criteria: [
            'ê³µì‚¬ë¹„ 100ì–µ~500ì–µì› ë¯¸ë§Œ',
            'ì—°ë©´ì  5,000ã¡ ì´ìƒ ë‹¤ì¤‘ì´ìš©ê±´ì¶•ë¬¼',
            'ì¤‘ê¸‰ê¸°ìˆ ì 1ëª… ì´ìƒ + ì´ˆê¸‰ê¸°ìˆ ì 1ëª… ì´ìƒ',
            'ì‹œí—˜ì‹¤ ê·œëª¨: 20ã¡ ì´ìƒ',
            'í’ˆì§ˆê´€ë¦¬ê³„íšì„œ ìˆ˜ë¦½ ì˜ë¬´'
        ]
    },
    'ì´ˆê¸‰': {
        title: 'ğŸ“‹ ì´ˆê¸‰í’ˆì§ˆê´€ë¦¬ ëŒ€ìƒê³µì‚¬',
        criteria: [
            'ê³µì‚¬ë¹„ 2ì–µ~100ì–µì› ë¯¸ë§Œ',
            'ì¤‘ê¸‰í’ˆì§ˆê´€ë¦¬ ëŒ€ìƒì´ ì•„ë‹Œ ê³µì‚¬',
            'ì´ˆê¸‰ê¸°ìˆ ì 1ëª… ì´ìƒ',
            'ì‹œí—˜ì‹¤ ê·œëª¨: 20ã¡ ì´ìƒ',
            'í’ˆì§ˆê´€ë¦¬ê³„íšì„œ ìˆ˜ë¦½ ì˜ë¬´'
        ]
    }
};

// í’ˆì§ˆê´€ë¦¬ì í…Œì´ë¸” ë Œë”ë§ (ê°€ë¡œí˜•)
// êµ¬ì¡°ë¬¼ í…Œì´ë¸” ë Œë”ë§ (ê°€ë¡œí˜•)
function renderStructureTable(region) {
    var container = document.getElementById('structure-data-row');
    if (!container) return;
    
    region = region || currentStructureRegion || 'ì „êµ­';
    var data = structureData[region] || structureData['ì „êµ­'];
    
    // êµ¬ì¡°ë¬¼ ìˆœì„œ ì •ì˜
    var structureOrder = ['êµëŸ‰', 'ì˜¹ë²½', 'ì§€í•˜ì°¨ë„', 'íŒí”„ì¥', 'í•˜ì²œ'];
    
    var html = '';
    for (var i = 0; i < structureOrder.length; i++) {
        var structureName = structureOrder[i];
        var structureInfo = data.find(function(item) {
            return item.type === structureName;
        });
        
        var count = structureInfo ? structureInfo.count : 0;
        var isClickable = structureName === 'êµëŸ‰';
        
        html += '<td class="structure-count-cell' + (isClickable ? ' bridge-clickable' : '') + '"' +
                (isClickable ? ' onclick="showBridgeModal()"' : '') + '>';
        html += count + 'ê°œì†Œ';
        html += '</td>';
    }
    
    container.innerHTML = html;
}

// êµ¬ì¡°ë¬¼ ìš”ì•½ ì •ë³´ ì—…ë°ì´íŠ¸
function updateStructureSummary(total, avgProgress, completed) {
    var totalEl = document.getElementById('total-structures');
    var progressEl = document.getElementById('avg-progress');
    var completedEl = document.getElementById('completed-structures');
    
    if (totalEl) totalEl.textContent = total + 'ê°œì†Œ';
    if (progressEl) progressEl.textContent = avgProgress + '%';
    if (completedEl) completedEl.textContent = completed + 'ê°œì†Œ';
}

// êµëŸ‰ ìƒì„¸ ëª¨ë‹¬ í‘œì‹œ
function showBridgeModal() {
    var modal = document.getElementById('bridge-modal');
    if (!modal) {
        createBridgeModal();
        modal = document.getElementById('bridge-modal');
    }
    
    renderBridgeTable();
    modal.classList.add('show');
    document.body.style.overflow = 'hidden';
}

// êµëŸ‰ ëª¨ë‹¬ ìˆ¨ê¸°ê¸°
function hideBridgeModal() {
    var modal = document.getElementById('bridge-modal');
    if (modal) {
        modal.classList.remove('show');
        document.body.style.overflow = 'auto';
    }
}

// êµëŸ‰ ëª¨ë‹¬ HTML ìƒì„±
function createBridgeModal() {
    var modalHtml = `
        <div class="bridge-modal" id="bridge-modal" onclick="hideBridgeModal()">
            <div class="bridge-modal-content" onclick="event.stopPropagation()">
                <div class="bridge-modal-header">
                    <h3 class="bridge-modal-title">ğŸŒ‰ êµëŸ‰ ìƒì„¸ í˜„í™©</h3>
                    <button class="bridge-close" onclick="hideBridgeModal()">Ã—</button>
                </div>
                
                <div class="bridge-filter-container">
                    <div class="bridge-filter-group">
                        <label class="bridge-filter-label">ê¶Œì—­</label>
                        <select class="bridge-filter-select" id="bridge-region-filter" onchange="filterBridges()">
                            <option value="ì „ì²´">ì „ì²´</option>
                            <option value="ìˆ˜ë„ê¶Œ">ìˆ˜ë„ê¶Œ</option>
                            <option value="ê°•ì›ê¶Œ">ê°•ì›ê¶Œ</option>
                            <option value="ì¶©ì²­ê¶Œ">ì¶©ì²­ê¶Œ</option>
                            <option value="ì˜ë‚¨ê¶Œ">ì˜ë‚¨ê¶Œ</option>
                            <option value="í˜¸ë‚¨ê¶Œ">í˜¸ë‚¨ê¶Œ</option>
                            <option value="ì œì£¼ê¶Œ">ì œì£¼ê¶Œ</option>
                        </select>
                    </div>
                    <div class="bridge-filter-group">
                        <label class="bridge-filter-label">êµëŸ‰í˜•ì‹</label>
                        <select class="bridge-filter-select" id="bridge-type-filter" onchange="filterBridges()">
                            <option value="ì „ì²´">ì „ì²´</option>
                            <option value="í˜„ìˆ˜êµ">í˜„ìˆ˜êµ</option>
                            <option value="ì‚¬ì¥êµ">ì‚¬ì¥êµ</option>
                            <option value="íŠ¸ëŸ¬ìŠ¤êµ">íŠ¸ëŸ¬ìŠ¤êµ</option>
                            <option value="ë°•ìŠ¤ê±°ë”êµ">ë°•ìŠ¤ê±°ë”êµ</option>
                        </select>
                    </div>
                    <div class="bridge-filter-group">
                        <label class="bridge-filter-label">ê³µë²•ëª…</label>
                        <select class="bridge-filter-select" id="bridge-method-filter" onchange="filterBridges()">
                            <option value="ì „ì²´">ì „ì²´</option>
                            <option value="FCMê³µë²•">FCMê³µë²•</option>
                            <option value="MSSê³µë²•">MSSê³µë²•</option>
                            <option value="FSMê³µë²•">FSMê³µë²•</option>
                        </select>
                    </div>
                    <div class="bridge-filter-group">
                        <label class="bridge-filter-label">ìƒíƒœ</label>
                        <select class="bridge-filter-select" id="bridge-status-filter" onchange="filterBridges()">
                            <option value="ì „ì²´">ì „ì²´</option>
                            <option value="ì‹œê³µì¤‘">ì‹œê³µì¤‘</option>
                            <option value="ì™„ë£Œ">ì™„ë£Œ</option>
                        </select>
                    </div>
                </div>
                
                <div class="bridge-table-container">
                    <table class="bridge-table" id="bridge-table">
                        <thead>
                            <tr>
                                <th>êµëŸ‰ëª…</th>
                                <th>êµëŸ‰í˜•ì‹</th>
                                <th>ê³µë²•ëª…</th>
                                <th>ì´ì—°ì¥(m)</th>
                                <th>ê²½ê°„ì¥(m)</th>
                                <th>í­ì›(m)</th>
                                <th>ê¶Œì—­</th>
                                <th>ìƒíƒœ</th>
                            </tr>
                        </thead>
                        <tbody id="bridge-table-body">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    `;
    
    document.body.insertAdjacentHTML('beforeend', modalHtml);
}

// êµëŸ‰ í…Œì´ë¸” ë Œë”ë§
function renderBridgeTable() {
    var container = document.getElementById('bridge-table-body');
    if (!container) return;
    
    // í•„í„°ë§ëœ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    var filteredData = getFilteredBridgeData();
    
    var html = '';
    for (var i = 0; i < filteredData.length; i++) {
        var bridge = filteredData[i];
        html += '<tr>';
        html += '<td class="bridge-name">' + bridge.name + '</td>';
        html += '<td>' + bridge.type + '</td>';
        html += '<td>' + bridge.method + '</td>';
        html += '<td>' + bridge.length.toLocaleString() + '</td>';
        html += '<td>' + bridge.span + '</td>';
        html += '<td>' + bridge.width + '</td>';
        html += '<td>' + bridge.region + '</td>';
        html += '<td>' + bridge.status + '</td>';
        html += '</tr>';
    }
    
    container.innerHTML = html;
}

// êµëŸ‰ ë°ì´í„° í•„í„°ë§
function getFilteredBridgeData() {
    var data = bridgeDetailData.slice();
    
    if (currentBridgeRegion !== 'ì „ì²´') {
        data = data.filter(function(bridge) {
            return bridge.region === currentBridgeRegion;
        });
    }
    
    if (currentBridgeType !== 'ì „ì²´') {
        data = data.filter(function(bridge) {
            return bridge.type === currentBridgeType;
        });
    }
    
    if (currentBridgeMethod !== 'ì „ì²´') {
        data = data.filter(function(bridge) {
            return bridge.method === currentBridgeMethod;
        });
    }
    
    if (currentBridgeStatus !== 'ì „ì²´') {
        data = data.filter(function(bridge) {
            return bridge.status === currentBridgeStatus;
        });
    }
    
    return data;
}

// êµëŸ‰ í•„í„° ì ìš©
function filterBridges() {
    currentBridgeRegion = document.getElementById('bridge-region-filter').value;
    currentBridgeType = document.getElementById('bridge-type-filter').value;
    currentBridgeMethod = document.getElementById('bridge-method-filter').value;
    currentBridgeStatus = document.getElementById('bridge-status-filter').value;
    
    renderBridgeTable();
}
function renderManagerTable(region) {
    var container = document.getElementById('manager-table-body-horizontal');
    if (!container) return;
    
    region = region || currentManagerRegion || 'ì „êµ­';
    var data = qualityManagerData[region] || qualityManagerData['ì „êµ­'];
    
    // ë°ì´í„°ë¥¼ ê°ì²´ë¡œ ë³€í™˜ (ë“±ê¸‰ë³„ë¡œ ì ‘ê·¼í•˜ê¸° ì‰½ê²Œ)
    var dataMap = {};
    for (var i = 0; i < data.length; i++) {
        dataMap[data[i].grade] = data[i];
    }
    
    var html = '';
    html += '<tr class="manager-row-horizontal">';
    html += '<td class="manager-cell-horizontal">í˜„ì¥ ìˆ˜</td>';
    html += '<td class="manager-cell-horizontal">';
    html += '<div class="manager-count-horizontal special">' + (dataMap['íŠ¹ê¸‰'] ? dataMap['íŠ¹ê¸‰'].count : 0) + 'ê°œì†Œ</div>';
    html += '</td>';
    html += '<td class="manager-cell-horizontal">';
    html += '<div class="manager-count-horizontal advanced">' + (dataMap['ê³ ê¸‰'] ? dataMap['ê³ ê¸‰'].count : 0) + 'ê°œì†Œ</div>';
    html += '</td>';
    html += '<td class="manager-cell-horizontal">';
    html += '<div class="manager-count-horizontal intermediate">' + (dataMap['ì¤‘ê¸‰'] ? dataMap['ì¤‘ê¸‰'].count : 0) + 'ê°œì†Œ</div>';
    html += '</td>';
    html += '<td class="manager-cell-horizontal">';
    html += '<div class="manager-count-horizontal basic">' + (dataMap['ì´ˆê¸‰'] ? dataMap['ì´ˆê¸‰'].count : 0) + 'ê°œì†Œ</div>';
    html += '</td>';
    html += '</tr>';
    
    container.innerHTML = html;
}

// ë°°ì¹˜ê¸°ì¤€ ìš”ì•½ í…ìŠ¤íŠ¸
function getManagerRequirement(grade) {
    var requirements = {
        'íŠ¹ê¸‰': '<div class="requirement-text">íŠ¹ê¸‰ê¸°ìˆ ì 1ëª… ì´ìƒ</div><div class="requirement-text">ì¤‘ê¸‰ê¸°ìˆ ì 2ëª… ì´ìƒ</div>',
        'ê³ ê¸‰': '<div class="requirement-text">ê³ ê¸‰ê¸°ìˆ ì 1ëª… ì´ìƒ</div><div class="requirement-text">ì¤‘ê¸‰ê¸°ìˆ ì 2ëª… ì´ìƒ</div>',
        'ì¤‘ê¸‰': '<div class="requirement-text">ì¤‘ê¸‰ê¸°ìˆ ì 1ëª… ì´ìƒ</div><div class="requirement-text">ì´ˆê¸‰ê¸°ìˆ ì 1ëª… ì´ìƒ</div>',
        'ì´ˆê¸‰': '<div class="requirement-text">ì´ˆê¸‰ê¸°ìˆ ì 1ëª… ì´ìƒ</div>'
    };
    return requirements[grade] || '';
}

// í’ˆì§ˆê´€ë¦¬ì ê¸°ì¤€ ëª¨ë‹¬ í‘œì‹œ (ì „ì²´ ê¸°ì¤€ í‘œì‹œ)
function showManagerCriteria() {
    var modal = document.getElementById('manager-criteria-modal');
    if (!modal) {
        createManagerCriteriaModal();
        modal = document.getElementById('manager-criteria-modal');
    }
    
    var modalTitle = modal.querySelector('.criteria-modal-title');
    var criteriaContent = modal.querySelector('.criteria-content');
    
    modalTitle.innerHTML = 'ğŸ‘·â€â™‚ï¸ í’ˆì§ˆê´€ë¦¬ì ë°°ì¹˜ê¸°ì¤€';
    
    var html = '';
    var grades = ['íŠ¹ê¸‰', 'ê³ ê¸‰', 'ì¤‘ê¸‰', 'ì´ˆê¸‰'];
    
    for (var i = 0; i < grades.length; i++) {
        var grade = grades[i];
        var criteria = managerCriteria[grade];
        
        html += '<div class="criteria-section">';
        html += '<div class="criteria-section-title">' + criteria.title + '</div>';
        html += '<ul class="criteria-list">';
        
        for (var j = 0; j < criteria.criteria.length; j++) {
            html += '<li>â€¢ ' + criteria.criteria[j] + '</li>';
        }
        
        html += '</ul>';
        html += '</div>';
    }
    
    criteriaContent.innerHTML = html;
    
    modal.classList.add('show');
    document.body.style.overflow = 'hidden';
}

// í’ˆì§ˆê´€ë¦¬ì ê¸°ì¤€ ëª¨ë‹¬ ìˆ¨ê¸°ê¸°
function hideManagerCriteria() {
    var modal = document.getElementById('manager-criteria-modal');
    if (modal) {
        modal.classList.remove('show');
        document.body.style.overflow = 'auto';
    }
}
// í’ˆì§ˆê´€ë¦¬ì í•„í„° ë²„íŠ¼ ì´ë²¤íŠ¸ ì¶”ê°€
var managerFilterButtons = document.querySelectorAll('#quality-manager-filter-buttons .filter-btn');
managerFilterButtons.forEach(function(btn) {
    btn.addEventListener('click', function() {
        var region = this.getAttribute('data-region');
        
        // ëª¨ë“  ë²„íŠ¼ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
        managerFilterButtons.forEach(function(b) {
            b.classList.remove('active');
        });
        
        // í´ë¦­ëœ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
        this.classList.add('active');
        
        // í…Œì´ë¸” ì—…ë°ì´íŠ¸
        currentManagerRegion = region;
        renderManagerTable(region);
        
        // ì•Œë¦¼
        showAlert(region + ' í’ˆì§ˆê´€ë¦¬ì í˜„í™©ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‘·â€â™‚ï¸');
    });
});
// í’ˆì§ˆê´€ë¦¬ì ê¸°ì¤€ ëª¨ë‹¬ HTML ìƒì„±
function createManagerCriteriaModal() {
    var modalHtml = `
        <div class="manager-criteria-modal" id="manager-criteria-modal" onclick="hideManagerCriteria()">
            <div class="manager-criteria-content" onclick="event.stopPropagation()">
                <div class="criteria-modal-header">
                    <h3 class="criteria-modal-title">í’ˆì§ˆê´€ë¦¬ì ë°°ì¹˜ê¸°ì¤€</h3>
                    <button class="criteria-close" onclick="hideManagerCriteria()">Ã—</button>
                </div>
                <div class="criteria-content"></div>
            </div>
        </div>
    `;
    
    document.body.insertAdjacentHTML('beforeend', modalHtml);
}

// í’ˆì§ˆí†µì§€ì„œ ë°ì´í„°
var noticeData = {
    excellent: {
        construction: [
            { project: 'ìœ„ë¡€ì‹ ë„ì‹œ ì¡°ì„±ê³µì‚¬', company: 'ëŒ€í•œê±´ì„¤', date: '2025-06-20', reason: 'ì½˜í¬ë¦¬íŠ¸ ì••ì¶•ê°•ë„ ê¸°ì¤€ ì´ˆê³¼ë‹¬ì„±' },
            { project: 'ì¸ì²œê²€ë‹¨ íƒì§€ê°œë°œì‚¬ì—…', company: 'ì‚¼ì„±ë¬¼ì‚°', date: '2025-06-18', reason: 'ì‹œê³µí’ˆì§ˆ ìš°ìˆ˜ ë° ê³µì •ê´€ë¦¬ íƒì›”' },
            { project: 'ê´‘êµì‹ ë„ì‹œ A1ë¸”ë¡', company: 'í˜„ëŒ€ê±´ì„¤', date: '2025-06-15', reason: 'ì•„ìŠ¤íŒ”íŠ¸ í¬ì¥ í’ˆì§ˆ ìš°ìˆ˜' },
            { project: 'í‰íƒê³ ë•ì‹ ë„ì‹œ B-7ë¸”ë¡', company: 'ëŒ€ë¦¼ì‚°ì—…', date: '2025-06-12', reason: 'ë‹¤ì§ë„ ê¸°ì¤€ ì´ˆê³¼ë‹¬ì„±' },
            { project: 'ì²­ë¼êµ­ì œë„ì‹œ A3ë¸”ë¡', company: 'GSê±´ì„¤', date: '2025-06-10', reason: 'ì² ê·¼ ë°°ê·¼ ìƒíƒœ ìš°ìˆ˜' },
            { project: 'ì†¡ë„êµ­ì œë„ì‹œ 11ê³µêµ¬', company: 'í¬ìŠ¤ì½”ê±´ì„¤', date: '2025-06-08', reason: 'ë°©ìˆ˜ê³µì‚¬ í’ˆì§ˆ ìš°ìˆ˜' },
            { project: 'ì¶˜ì²œí˜ì‹ ë„ì‹œ 2ë‹¨ê³„', company: 'ëŒ€ìš°ê±´ì„¤', date: '2025-06-05', reason: 'ì½˜í¬ë¦¬íŠ¸ ì–‘ìƒê´€ë¦¬ ìš°ìˆ˜' },
            { project: 'ì„¸ì¢…5-1ìƒí™œê¶Œ', company: 'ë¡¯ë°ê±´ì„¤', date: '2025-06-03', reason: 'êµ¬ì¡°ë¬¼ ì‹œê³µì •ë°€ë„ ìš°ìˆ˜' },
            { project: 'ê¹€í•´ì‹ ë„ì‹œ 2ë‹¨ê³„', company: 'íƒœì˜ê±´ì„¤', date: '2025-06-01', reason: 'í’ˆì§ˆê´€ë¦¬ì‹œìŠ¤í…œ ìš´ì˜ ìš°ìˆ˜' },
            { project: 'ìƒˆë§Œê¸ˆì‹ ë„ì‹œ 1ë‹¨ê³„', company: 'í•œí™”ê±´ì„¤', date: '2025-05-28', reason: 'í† ê³µì‚¬ ë‹¤ì§ í’ˆì§ˆ ìš°ìˆ˜' }
        ],
        supervision: [
            { project: 'í•˜ë‚¨êµì‚°ì‹ ë„ì‹œ ì§„ì…ë„ë¡œ', company: 'í•œêµ­ì¢…í•©ê¸°ìˆ ', date: '2025-06-19', reason: 'ì„¤ê³„ë³€ê²½ ì ì •ì„± ê²€í†  ìš°ìˆ˜' },
            { project: 'ë¶€ì‚°ëª…ì§€ì§€êµ¬ ì—°ê²°ë„ë¡œ', company: 'ìœ ì‹ ì½”í¼ë ˆì´ì…˜', date: '2025-06-17', reason: 'ê°ë¦¬ì—…ë¬´ ìˆ˜í–‰ ìš°ìˆ˜' },
            { project: 'ì§„ì²œí˜ì‹ ë„ì‹œ ìˆœí™˜ë„ë¡œ', company: 'ì‚¼ì•ˆ', date: '2025-06-14', reason: 'í’ˆì§ˆê´€ë¦¬ ê°ë… ìš°ìˆ˜' },
            { project: 'ê²½ë¶€ê³ ì†ë„ë¡œ í™•ì¥ê³µì‚¬', company: 'ë„í™”ì—”ì§€ë‹ˆì–´ë§', date: '2025-06-11', reason: 'ì•ˆì „ê´€ë¦¬ ê°ë¦¬ ìš°ìˆ˜' },
            { project: 'ì„œí•´ì•ˆê³ ì†ë„ë¡œ í™•ì¥ê³µì‚¬', company: 'ê±´í™”', date: '2025-06-09', reason: 'ê³µì •ê´€ë¦¬ ê°ë¦¬ ìš°ìˆ˜' },
            { project: 'ìš¸ì‚°ì‹ ì •ì§€êµ¬ ì¡°ì„±ê³µì‚¬', company: 'ëŒ€í•œì»¨ì„¤í„´íŠ¸', date: '2025-06-06', reason: 'í’ˆì§ˆê²€ì‚¬ ì²´ê³„ ìš°ìˆ˜' },
            { project: 'ì›ì£¼í˜ì‹ ë„ì‹œ í™•ì¥ì§€êµ¬', company: 'í•œêµ­ì„¤ê³„', date: '2025-06-04', reason: 'ì‹œê³µí’ˆì§ˆ í™•ì¸ ìš°ìˆ˜' },
            { project: 'ëŒ€ì „ë„ì•ˆì‹ ë„ì‹œ 6ìƒí™œê¶Œ', company: 'ì•„ì£¼ì—”ì§€ë‹ˆì–´ë§', date: '2025-06-02', reason: 'ì¬ë£Œí’ˆì§ˆ ê´€ë¦¬ ìš°ìˆ˜' }
        ],
        material: [
            { item: 'ë ˆë¯¸ì½˜ (25-24-150)', supplier: 'í•œë¼ì‹œë©˜íŠ¸', date: '2025-06-21', reason: 'ì••ì¶•ê°•ë„ ìš°ìˆ˜ (ì„¤ê³„ê°•ë„ 120% ë‹¬ì„±)' },
            { item: 'ì•„ìŠ¤íŒ”íŠ¸ í˜¼í•©ë¬¼', supplier: 'SKê±´ì„¤ìì¬', date: '2025-06-20', reason: 'ë§ˆìƒ¬ ì•ˆì •ë„ ê¸°ì¤€ ì´ˆê³¼' },
            { item: 'ì² ê·¼ (SD400)', supplier: 'í˜„ëŒ€ì œì² ', date: '2025-06-18', reason: 'ì¸ì¥ê°•ë„ ê¸°ì¤€ ì´ˆê³¼ë‹¬ì„±' },
            { item: 'ê³¨ì¬ (ìê°ˆ)', supplier: 'ìŒìš©ì–‘íšŒ', date: '2025-06-16', reason: 'ì…ë„ë¶„ì„ ê²°ê³¼ ìš°ìˆ˜' },
            { item: 'ì‹œë©˜íŠ¸ (1ì¢…)', supplier: 'ë™ì–‘ì‹œë©˜íŠ¸', date: '2025-06-14', reason: 'ì••ì¶•ê°•ë„ ì¡°ê¸°ë°œí˜„ ìš°ìˆ˜' },
            { item: 'ì•„ìŠ¤íŒ”íŠ¸ ë°”ì¸ë”', supplier: 'GSì¹¼í…ìŠ¤', date: '2025-06-12', reason: 'ì¹¨ì…ë„ ì‹œí—˜ê²°ê³¼ ìš°ìˆ˜' }
        ]
    },
    poor: {
        construction: [
            { project: 'í‰íƒê³ ë•ì‹ ë„ì‹œ Aë¸”ë¡', company: 'ì¤‘ì†Œê±´ì„¤', date: '2025-06-19', reason: 'ì½˜í¬ë¦¬íŠ¸ ì••ì¶•ê°•ë„ ë¶€ì¡± (ì„¤ê³„ê°•ë„ 85%)' },
            { project: 'ìƒˆë§Œê¸ˆì‹ ë„ì‹œ 1ë‹¨ê³„', company: 'ì§€ì—­ê±´ì„¤', date: '2025-06-16', reason: 'ë‹¤ì§ë„ ê¸°ì¤€ ë¯¸ë‹¬ (92%)' },
            { project: 'ìš¸ì‚°ì‹ ì •ì§€êµ¬', company: 'ì†Œê·œëª¨ê±´ì„¤', date: '2025-06-13', reason: 'ì² ê·¼ ë°°ê·¼ê°„ê²© ë¶€ì ì •' },
            { project: 'ì¶˜ì²œí˜ì‹ ë„ì‹œ 2ë‹¨ê³„', company: 'í˜‘ë ¥ê±´ì„¤', date: '2025-06-10', reason: 'ë°©ìˆ˜ê³µì‚¬ ì‹œê³µë¶ˆëŸ‰' },
            { project: 'ì›ì£¼í˜ì‹ ë„ì‹œ í™•ì¥ì§€êµ¬', company: 'ë™ë°˜ê±´ì„¤', date: '2025-06-07', reason: 'ì•„ìŠ¤íŒ”íŠ¸ í¬ì¥ ë‘ê»˜ ë¶€ì¡±' },
            { project: 'ê´‘ì£¼í•˜ë‚¨ì‚°ë‹¨', company: 'ì‹ ì§„ê±´ì„¤', date: '2025-06-04', reason: 'ì½˜í¬ë¦¬íŠ¸ ì–‘ìƒ ë¶€ì ì ˆ' },
            { project: 'ì œì£¼ì˜ì–´êµìœ¡ë„ì‹œ', company: 'ë‚¨êµ­ê±´ì„¤', date: '2025-06-01', reason: 'êµ¬ì¡°ë¬¼ ì‹œê³µì˜¤ì°¨ ê³¼ë‹¤' }
        ],
        supervision: [
            { project: 'í•˜ë‚¨êµì‚°ì‹ ë„ì‹œ ì§„ì…ë„ë¡œ', company: 'ì†Œí˜•ì—”ì§€ë‹ˆì–´ë§', date: '2025-06-18', reason: 'í’ˆì§ˆê²€ì‚¬ ì£¼ê¸° ì¤€ìˆ˜ ë¯¸í¡' },
            { project: 'ë¶€ì‚°ëª…ì§€ì§€êµ¬ ì—°ê²°ë„ë¡œ', company: 'ì§€ì—­ê¸°ìˆ ë‹¨', date: '2025-06-15', reason: 'ê°ë¦¬ì¼ì§€ ì‘ì„± ë¶€ì‹¤' },
            { project: 'ì§„ì²œí˜ì‹ ë„ì‹œ ìˆœí™˜ë„ë¡œ', company: 'í˜‘ë ¥ì—”ì§€ë‹ˆì–´ë§', date: '2025-06-12', reason: 'ì‹œê³µí’ˆì§ˆ í™•ì¸ ì†Œí™€' },
            { project: 'ê²½ë¶€ê³ ì†ë„ë¡œ í™•ì¥ê³µì‚¬', company: 'ë™ë°˜ì»¨ì„¤í„´íŠ¸', date: '2025-06-09', reason: 'ì•ˆì „ê´€ë¦¬ ê°ë… ë¯¸í¡' },
            { project: 'ì„œí•´ì•ˆê³ ì†ë„ë¡œ í™•ì¥ê³µì‚¬', company: 'ì‹ ê·œì„¤ê³„', date: '2025-06-06', reason: 'ê³µì •ê´€ë¦¬ ê°ë¦¬ ë¶€ì‹¤' },
            { project: 'ìš¸ì‚°ì‹ ì •ì§€êµ¬ ì¡°ì„±ê³µì‚¬', company: 'ë¡œì»¬ì—”ì§€ë‹ˆì–´ë§', date: '2025-06-03', reason: 'ì¬ë£Œí’ˆì§ˆ ê²€ì‚¬ ëˆ„ë½' }
        ],
        material: [
            { item: 'ë ˆë¯¸ì½˜ (21-18-150)', supplier: 'ì§€ì—­ë ˆë¯¸ì½˜', date: '2025-06-17', reason: 'ì••ì¶•ê°•ë„ ë¶€ì¡± (ì„¤ê³„ê°•ë„ 88%)' },
            { item: 'ì•„ìŠ¤íŒ”íŠ¸ í˜¼í•©ë¬¼', supplier: 'ë¡œì»¬ì•„ìŠ¤ì½˜', date: '2025-06-14', reason: 'ë§ˆìƒ¬ ì•ˆì •ë„ ê¸°ì¤€ ë¯¸ë‹¬' },
            { item: 'ì² ê·¼ (SD400)', supplier: 'ì†Œí˜•ì œì² ', date: '2025-06-11', reason: 'ì¸ì¥ê°•ë„ ê¸°ì¤€ ë¯¸ë‹¬' },
            { item: 'ê³¨ì¬ (ëª¨ë˜)', supplier: 'ì§€ì—­ê³¨ì¬', date: '2025-06-08', reason: 'ì…ë„ë¶„ì„ ê²°ê³¼ ë¶€ì í•©' }
        ]
    }
};
        var regionsData = [
            { name: 'ìˆ˜ë„ê¶Œ', count: 45 },
            { name: 'ê°•ì›ê¶Œ', count: 12 },
            { name: 'ì¶©ì²­ê¶Œ', count: 23 },
            { name: 'ì˜ë‚¨ê¶Œ', count: 38 },
            { name: 'í˜¸ë‚¨ê¶Œ', count: 19 },
            { name: 'ì œì£¼ê¶Œ', count: 7 }
        ];

        var regionProjects = {
            'ìˆ˜ë„ê¶Œ': [
                { name: 'ìœ„ë¡€ì‹ ë„ì‹œ ì¡°ì„±ê³µì‚¬', location: 'ê²½ê¸° ì„±ë‚¨ì‹œ', status: 'ì‹œê³µì¤‘', progress: 85 },
                { name: 'ì¸ì²œê²€ë‹¨ íƒì§€ê°œë°œì‚¬ì—… ì¡°ì„±ê³µì‚¬', location: 'ì¸ì²œ ì„œêµ¬', status: 'ì‹œê³µì¤‘', progress: 72 },
                { name: 'ë‚¨ì–‘ì£¼ì™•ìˆ™ ê³µê³µì£¼íƒì§€êµ¬ ì¡°ì„±ê³µì‚¬', location: 'ê²½ê¸° ë‚¨ì–‘ì£¼ì‹œ', status: 'ì‹œê³µì¤‘', progress: 94 }
            ],
            'ê°•ì›ê¶Œ': [
                { name: 'ì¶˜ì²œí˜ì‹ ë„ì‹œ 2ë‹¨ê³„ ì¡°ì„±ê³µì‚¬', location: 'ê°•ì› ì¶˜ì²œì‹œ', status: 'ì‹œê³µì¤‘', progress: 67 },
                { name: 'ì›ì£¼í˜ì‹ ë„ì‹œ í™•ì¥ì§€êµ¬ ì¡°ì„±ê³µì‚¬', location: 'ê°•ì› ì›ì£¼ì‹œ', status: 'ì‹œê³µì¤‘', progress: 82 }
            ],
            'ì¶©ì²­ê¶Œ': [
                { name: 'ì„¸ì¢…5-1ìƒí™œê¶Œ ì¡°ì„±ê³µì‚¬', location: 'ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ', status: 'ì‹œê³µì¤‘', progress: 89 },
                { name: 'ëŒ€ì „ë„ì•ˆì‹ ë„ì‹œ 5ìƒí™œê¶Œ ì¡°ì„±ê³µì‚¬', location: 'ëŒ€ì „ ìœ ì„±êµ¬', status: 'ì‹œê³µì¤‘', progress: 76 }
            ],
            'ì˜ë‚¨ê¶Œ': [
                { name: 'ê¹€í•´ì‹ ë„ì‹œ 2ë‹¨ê³„ ì¡°ì„±ê³µì‚¬', location: 'ê²½ë‚¨ ê¹€í•´ì‹œ', status: 'ì‹œê³µì¤‘', progress: 88 },
                { name: 'ì°½ì›ìƒë‚¨ì§€êµ¬ 2ë‹¨ê³„ ì¡°ì„±ê³µì‚¬', location: 'ê²½ë‚¨ ì°½ì›ì‹œ', status: 'ì‹œê³µì¤‘', progress: 65 }
            ],
            'í˜¸ë‚¨ê¶Œ': [
                { name: 'ìƒˆë§Œê¸ˆì‹ ë„ì‹œ 1ë‹¨ê³„ ì¡°ì„±ê³µì‚¬', location: 'ì „ë¶ êµ°ì‚°ì‹œ', status: 'ì‹œê³µì¤‘', progress: 62 },
                { name: 'ì „ì£¼ì—ì½”ì‹œí‹° ê°„ì„ ë„ë¡œ ì¡°ì„±ê³µì‚¬', location: 'ì „ë¶ ì „ì£¼ì‹œ', status: 'ì‹œê³µì¤‘', progress: 74 }
            ],
            'ì œì£¼ê¶Œ': [
                { name: 'ì œì£¼ì˜ì–´êµìœ¡ë„ì‹œ í™•ì¥ê³µì‚¬', location: 'ì œì£¼ ì„œê·€í¬ì‹œ', status: 'ì‹œê³µì¤‘', progress: 77 },
                { name: 'ì œì£¼ì²¨ë‹¨ê³¼í•™ê¸°ìˆ ë‹¨ì§€ ì¡°ì„±ê³µì‚¬', location: 'ì œì£¼ ì œì£¼ì‹œ', status: 'ì‹œê³µì¤‘', progress: 84 }
            ]
        };

var concreteSites = {
    'ìˆ˜ë„ê¶Œ': [
        { 
            name: 'ìœ„ë¡€ì‹ ë„ì‹œ ì¡°ì„±ê³µì‚¬', 
            location: 'ê²½ê¸° ì„±ë‚¨ì‹œ',
            volume: 245,
            weather: 'rain',
            weatherData: {
                current: 12.5,
                unit: 'mm',
                forecast: 'ì˜¤í›„ 2ì‹œ~5ì‹œ ê°•ìš° ì˜ˆìƒ (15-20mm)',
                todayForecast: 'íë¦¼, ì˜¤í›„ ì†Œë‚˜ê¸°',
                tomorrowForecast: 'ë§‘ìŒ, ì‘ì—… ì í•©',
                standard: '15mm ì´í•˜',
                status: 'safe'
            }
        },
        { 
            name: 'ì¸ì²œê²€ë‹¨ íƒì§€ê°œë°œì‚¬ì—… ì¡°ì„±ê³µì‚¬', 
            location: 'ì¸ì²œ ì„œêµ¬',
            volume: 180,
            weather: 'wind',
            weatherData: {
                current: 18.5,
                unit: 'm/s',
                forecast: 'ì˜¤ì „ ì¤‘ ê°•í’ì£¼ì˜ë³´ ì§€ì† (20-25m/s)',
                todayForecast: 'ê°•í’, í¬ë ˆì¸ ì‘ì—… ê¸ˆì§€',
                tomorrowForecast: 'ë°”ëŒ ì•½í•´ì§, ì‘ì—… ê°€ëŠ¥',
                standard: '15m/s ì´í•˜',
                status: 'critical'
            }
        },
        { 
            name: 'ê´‘êµì‹ ë„ì‹œ A1ë¸”ë¡ ì¡°ì„±ê³µì‚¬', 
            location: 'ê²½ê¸° ìˆ˜ì›ì‹œ',
            volume: 320,
            weather: 'hot',
            weatherData: {
                current: 32.8,
                unit: 'Â°C',
                forecast: 'ê³ ì˜¨ ì£¼ì˜',
                standard: '30Â°C ì´í•˜',
                status: 'critical'
            }
        },
        { 
            name: 'í‰íƒê³ ë•ì‹ ë„ì‹œ B-7ë¸”ë¡ ì¡°ì„±ê³µì‚¬', 
            location: 'ê²½ê¸° í‰íƒì‹œ',
            volume: 150,
            weather: 'rain',
            weatherData: {
                current: 8.2,
                unit: 'mm',
                forecast: 'ì†Œë‚˜ê¸° ì˜ˆìƒ',
                standard: '15mm ì´í•˜',
                status: 'safe'
            }
        },
        { 
            name: 'ì²­ë¼êµ­ì œë„ì‹œ A3ë¸”ë¡ ì¡°ì„±ê³µì‚¬', 
            location: 'ì¸ì²œ ì„œêµ¬',
            volume: 280,
            weather: null 
        },
        { 
            name: 'ì†¡ë„êµ­ì œë„ì‹œ 11ê³µêµ¬ ì¡°ì„±ê³µì‚¬', 
            location: 'ì¸ì²œ ì—°ìˆ˜êµ¬',
            volume: 195,
            weather: 'wind',
            weatherData: {
                current: 12.3,
                unit: 'm/s',
                forecast: 'ë°”ëŒ ì•½í•¨',
                standard: '15m/s ì´í•˜',
                status: 'safe'
            }
        }
    ],
    'ê°•ì›ê¶Œ': [
        { 
            name: 'ì¶˜ì²œí˜ì‹ ë„ì‹œ 2ë‹¨ê³„ ì¡°ì„±ê³µì‚¬', 
            location: 'ê°•ì› ì¶˜ì²œì‹œ',
            volume: 160,
            weather: 'cold',
            weatherData: {
                current: -2.5,
                unit: 'Â°C',
                forecast: 'ì¶”ìœ„ ì§€ì†',
                standard: '5Â°C ì´ìƒ',
                status: 'critical'
            }
        },
        { 
            name: 'ì›ì£¼í˜ì‹ ë„ì‹œ í™•ì¥ì§€êµ¬ ì¡°ì„±ê³µì‚¬', 
            location: 'ê°•ì› ì›ì£¼ì‹œ',
            volume: 125,
            weather: null 
        }
    ],
    'ì¶©ì²­ê¶Œ': [
        { 
            name: 'ì„¸ì¢…5-1ìƒí™œê¶Œ ì¡°ì„±ê³µì‚¬', 
            location: 'ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ',
            volume: 310,
            weather: 'hot',
            weatherData: {
                current: 28.5,
                unit: 'Â°C',
                forecast: 'ë§‘ìŒ',
                standard: '30Â°C ì´í•˜',
                status: 'safe'
            }
        },
        { 
            name: 'ëŒ€ì „ë„ì•ˆì‹ ë„ì‹œ 6ìƒí™œê¶Œ ì¡°ì„±ê³µì‚¬', 
            location: 'ëŒ€ì „ ìœ ì„±êµ¬',
            volume: 220,
            weather: null 
        }
    ],
    'ì˜ë‚¨ê¶Œ': [
        { 
            name: 'ê¹€í•´ì‹ ë„ì‹œ 2ë‹¨ê³„ ì¡°ì„±ê³µì‚¬', 
            location: 'ê²½ë‚¨ ê¹€í•´ì‹œ',
            volume: 275,
            weather: null 
        },
        { 
            name: 'ë¶€ì‚°ê°•ì„œêµ¬ ëª…ì§€ì§€êµ¬ ì¡°ì„±ê³µì‚¬', 
            location: 'ë¶€ì‚° ê°•ì„œêµ¬',
            volume: 185,
            weather: 'wind',
            weatherData: {
                current: 19.8,
                unit: 'm/s',
                forecast: 'ê°•í’ ê²½ë³´',
                standard: '15m/s ì´í•˜',
                status: 'critical'
            }
        },
        { 
            name: 'ìš¸ì‚°ì‹ ì •ì§€êµ¬ ì¡°ì„±ê³µì‚¬', 
            location: 'ìš¸ì‚° ë‚¨êµ¬',
            volume: 140,
            weather: null 
        }
    ],
    'í˜¸ë‚¨ê¶Œ': [
        { 
            name: 'ìƒˆë§Œê¸ˆì‹ ë„ì‹œ 1ë‹¨ê³„ ì¡°ì„±ê³µì‚¬', 
            location: 'ì „ë¶ êµ°ì‚°ì‹œ',
            volume: 205,
            weather: 'wind',
            weatherData: {
                current: 22.1,
                unit: 'm/s',
                forecast: 'ê°•í’ì£¼ì˜ë³´ ë°œíš¨ ì¤‘',
                standard: '20m/s ì´í•˜',
                status: 'critical'
            }
        },
        { 
            name: 'ê´‘ì£¼í•˜ë‚¨ì‚°ë‹¨ ì¡°ì„±ê³µì‚¬', 
            location: 'ê´‘ì£¼ ê´‘ì‚°êµ¬',
            volume: 165,
            weather: null 
        }
    ],
    'ì œì£¼ê¶Œ': [
        { 
            name: 'ì œì£¼ì˜ì–´êµìœ¡ë„ì‹œ í™•ì¥ê³µì‚¬', 
            location: 'ì œì£¼ ì„œê·€í¬ì‹œ',
            volume: 95,
            weather: 'wind',
            weatherData: {
                current: 16.5,
                unit: 'm/s',
                forecast: 'ë°”ëŒ ë³´í†µ',
                standard: '20m/s ì´í•˜',
                status: 'safe'
            }
        }
    ]
};

var currentConcreteRegion = 'ì „êµ­';

        var compactionSites = [
            { 
                name: 'í‰íƒê³ ë•ì‹ ë„ì‹œ Aë¸”ë¡ ì¡°ì„±ê³µì‚¬', 
                location: 'ê²½ê¸° í‰íƒì‹œ', 
                weather: 'rain',
                weatherData: {
                    current: 8.2,
                    unit: 'mm',
                    forecast: 'ìƒˆë²½ ì†Œë‚˜ê¸° í›„ ì ì°¨ ê°œì„ (ì´ 10-15mm)',
                    todayForecast: 'ì˜¤ì „ ë¹„, ì˜¤í›„ íë¦¼',
                    tomorrowForecast: 'ë§‘ìŒ, ë‹¤ì§ì‘ì—… ì í•©',
                    standard: '10mm ì´í•˜',
                    status: 'safe'
                }
            },
            { 
                name: 'ìƒˆë§Œê¸ˆì‹ ë„ì‹œ 1ë‹¨ê³„ ì¡°ì„±ê³µì‚¬', 
                location: 'ì „ë¶ êµ°ì‚°ì‹œ', 
                weather: 'wind',
                weatherData: {
                    current: 22.1,
                    unit: 'm/s',
                    forecast: 'ê°•í’ì£¼ì˜ë³´ ë°œíš¨ ì¤‘ (25-30m/s ëŒí’)',
                    todayForecast: 'ê°•í’, ì¤‘ì¥ë¹„ ì‘ì—…ì¤‘ë‹¨)',
tomorrowForecast: 'ë°”ëŒ ë‹¤ì†Œ ì•½í•´ì§',
standard: '20m/s ì´í•˜',
status: 'critical'
}
},
{
name: 'ìš¸ì‚°ì‹ ì •ì§€êµ¬ ì¡°ì„±ê³µì‚¬',
location: 'ìš¸ì‚° ë‚¨êµ¬',
weather: null
},
{
name: 'ì¶˜ì²œí˜ì‹ ë„ì‹œ 2ë‹¨ê³„ ì¡°ì„±ê³µì‚¬',
location: 'ê°•ì› ì¶˜ì²œì‹œ',
weather: 'cold',
weatherData: {
current: -3.5,
unit: 'Â°C',
forecast: 'í•œíŒŒ ì§€ì†',
standard: '5Â°C ì´ìƒ',
status: 'critical'
}
},
{
name: 'ì›ì£¼í˜ì‹ ë„ì‹œ í™•ì¥ì§€êµ¬ ì¡°ì„±ê³µì‚¬',
location: 'ê°•ì› ì›ì£¼ì‹œ',
weather: null
}
];
var pavingSites = [
        { 
            name: 'í•˜ë‚¨êµì‚°ì‹ ë„ì‹œ ì§„ì…ë„ë¡œ ì¡°ì„±ê³µì‚¬', 
            location: 'ê²½ê¸° í•˜ë‚¨ì‹œ', 
            weather: 'hot',
            weatherData: {
                current: 38.5,
                unit: 'Â°C',
                forecast: 'í­ì—¼íŠ¹ë³´ ì§€ì†, ìµœê³  40Â°Cê¹Œì§€ ìƒìŠ¹',
                todayForecast: 'í­ì—¼, ì˜¤ì „ 10ì‹œ~ì˜¤í›„ 4ì‹œ ì‘ì—…ê¸ˆì§€',
                tomorrowForecast: 'ê³ ì˜¨ ì§€ì†, ìƒˆë²½/ì €ë… ì‘ì—… ê¶Œì¥',
                standard: '35Â°C ì´í•˜',
                status: 'critical'
            }
        },
        { 
            name: 'ë¶€ì‚°ëª…ì§€ì§€êµ¬ ì—°ê²°ë„ë¡œ ì¡°ì„±ê³µì‚¬', 
            location: 'ë¶€ì‚° ê°•ì„œêµ¬', 
            weather: 'rain',
            weatherData: {
                current: 25.8,
                unit: 'mm',
                forecast: 'ì˜¤í›„~ì €ë… ì§‘ì¤‘í˜¸ìš° (ì‹œê°„ë‹¹ 30-50mm)',
                todayForecast: 'ì§‘ì¤‘í˜¸ìš°, í¬ì¥ì‘ì—… ì „ë©´ ì¤‘ë‹¨',
                tomorrowForecast: 'ë¹„ ê·¸ì¹¨, ë…¸ë©´ ê±´ì¡° í›„ ì‘ì—… ê°€ëŠ¥',
                standard: '20mm ì´í•˜',
                status: 'critical'
            }
        },
        { 
            name: 'ì§„ì²œí˜ì‹ ë„ì‹œ ìˆœí™˜ë„ë¡œ ì¡°ì„±ê³µì‚¬', 
            location: 'ì¶©ë¶ ì§„ì²œêµ°', 
            weather: 'cold',
            weatherData: {
                current: -5.2,
                unit: 'Â°C',
                forecast: 'í•œíŒŒì£¼ì˜ë³´, ìµœì € -8Â°Cê¹Œì§€ í•˜ê°•',
                todayForecast: 'í•œíŒŒ, ë™ê²°ë°©ì§€ ì¡°ì¹˜ í•„ìˆ˜',
                tomorrowForecast: 'ì¶”ìœ„ ì§€ì†, ë³´ì˜¨ì–‘ìƒ ì‹¤ì‹œ',
                standard: '5Â°C ì´ìƒ',
                status: 'critical'
            }
        },
        { 
            name: 'ê²½ë¶€ê³ ì†ë„ë¡œ í™•ì¥ê³µì‚¬ (ìˆ˜ì›-ì˜¤ì‚°êµ¬ê°„)', 
            location: 'ê²½ê¸° ìˆ˜ì›ì‹œ', 
            weather: 'wind',
            weatherData: {
                current: 17.3,
                unit: 'm/s',
                forecast: 'ê°•í’ ì§€ì†',
                standard: '15m/s ì´í•˜',
                status: 'critical'
            }
        },
        { 
            name: 'ì„œí•´ì•ˆê³ ì†ë„ë¡œ í™•ì¥ê³µì‚¬ (ì„œì‚°-ë‹¹ì§„êµ¬ê°„)', 
            location: 'ì¶©ë‚¨ ì„œì‚°ì‹œ', 
            weather: null 
        }
    ];
var pavingSites = {
    'ìˆ˜ë„ê¶Œ': [
        { 
            name: 'í•˜ë‚¨êµì‚°ì‹ ë„ì‹œ ì§„ì…ë„ë¡œ ì¡°ì„±ê³µì‚¬', 
            location: 'ê²½ê¸° í•˜ë‚¨ì‹œ',
            area: 15600,
            weather: 'hot',
            weatherData: {
                current: 38.5,
                unit: 'Â°C',
                forecast: 'í­ì—¼íŠ¹ë³´ ì§€ì†, ìµœê³  40Â°Cê¹Œì§€ ìƒìŠ¹',
                todayForecast: 'í­ì—¼, ì˜¤ì „ 10ì‹œ~ì˜¤í›„ 4ì‹œ ì‘ì—…ê¸ˆì§€',
                tomorrowForecast: 'ê³ ì˜¨ ì§€ì†, ìƒˆë²½/ì €ë… ì‘ì—… ê¶Œì¥',
                standard: '35Â°C ì´í•˜',
                status: 'critical'
            }
        },
        { 
            name: 'ê²½ë¶€ê³ ì†ë„ë¡œ í™•ì¥ê³µì‚¬ (ìˆ˜ì›-ì˜¤ì‚°êµ¬ê°„)', 
            location: 'ê²½ê¸° ìˆ˜ì›ì‹œ',
            area: 22400,
            weather: 'wind',
            weatherData: {
                current: 17.3,
                unit: 'm/s',
                forecast: 'ê°•í’ ì§€ì†',
                standard: '15m/s ì´í•˜',
                status: 'critical'
            }
        }
    ],
    'ì¶©ì²­ê¶Œ': [
        { 
            name: 'ì„œí•´ì•ˆê³ ì†ë„ë¡œ í™•ì¥ê³µì‚¬ (ì„œì‚°-ë‹¹ì§„êµ¬ê°„)', 
            location: 'ì¶©ë‚¨ ì„œì‚°ì‹œ',
            area: 18200,
            weather: null 
        },
        { 
            name: 'ì§„ì²œí˜ì‹ ë„ì‹œ ìˆœí™˜ë„ë¡œ ì¡°ì„±ê³µì‚¬', 
            location: 'ì¶©ë¶ ì§„ì²œêµ°',
            area: 12800,
            weather: 'cold',
            weatherData: {
                current: -5.2,
                unit: 'Â°C',
                forecast: 'í•œíŒŒì£¼ì˜ë³´, ìµœì € -8Â°Cê¹Œì§€ í•˜ê°•',
                todayForecast: 'í•œíŒŒ, ë™ê²°ë°©ì§€ ì¡°ì¹˜ í•„ìˆ˜',
                tomorrowForecast: 'ì¶”ìœ„ ì§€ì†, ë³´ì˜¨ì–‘ìƒ ì‹¤ì‹œ',
                standard: '5Â°C ì´ìƒ',
                status: 'critical'
            }
        }
    ],
    'ì˜ë‚¨ê¶Œ': [
        { 
            name: 'ë¶€ì‚°ëª…ì§€ì§€êµ¬ ì—°ê²°ë„ë¡œ ì¡°ì„±ê³µì‚¬', 
            location: 'ë¶€ì‚° ê°•ì„œêµ¬',
            area: 16900,
            weather: 'rain',
            weatherData: {
                current: 25.8,
                unit: 'mm',
                forecast: 'ì˜¤í›„~ì €ë… ì§‘ì¤‘í˜¸ìš° (ì‹œê°„ë‹¹ 30-50mm)',
                todayForecast: 'ì§‘ì¤‘í˜¸ìš°, í¬ì¥ì‘ì—… ì „ë©´ ì¤‘ë‹¨',
                tomorrowForecast: 'ë¹„ ê·¸ì¹¨, ë…¸ë©´ ê±´ì¡° í›„ ì‘ì—… ê°€ëŠ¥',
                standard: '20mm ì´í•˜',
                status: 'critical'
            }
        }
    ]
};

var currentPavingRegion = 'ì „êµ­';

var qualityData = {
    'ì „êµ­': [
        { label: 'ìš°ìˆ˜', count: 28, color: 'excellent' },
        { label: 'ì–‘í˜¸', count: 45, color: 'good' },
        { label: 'ë³´í†µ', count: 32, color: 'average' },
        { label: 'ë¯¸í¡', count: 18, color: 'poor' },
        { label: 'ë¶ˆëŸ‰', count: 8, color: 'bad' }
    ],
    'ìˆ˜ë„ê¶Œ': [
        { label: 'ìš°ìˆ˜', count: 12, color: 'excellent' },
        { label: 'ì–‘í˜¸', count: 18, color: 'good' },
        { label: 'ë³´í†µ', count: 11, color: 'average' },
        { label: 'ë¯¸í¡', count: 6, color: 'poor' },
        { label: 'ë¶ˆëŸ‰', count: 3, color: 'bad' }
    ],
    'ê°•ì›ê¶Œ': [
        { label: 'ìš°ìˆ˜', count: 4, color: 'excellent' },
        { label: 'ì–‘í˜¸', count: 6, color: 'good' },
        { label: 'ë³´í†µ', count: 3, color: 'average' },
        { label: 'ë¯¸í¡', count: 2, color: 'poor' },
        { label: 'ë¶ˆëŸ‰', count: 1, color: 'bad' }
    ],
    'ì¶©ì²­ê¶Œ': [
        { label: 'ìš°ìˆ˜', count: 7, color: 'excellent' },
        { label: 'ì–‘í˜¸', count: 10, color: 'good' },
        { label: 'ë³´í†µ', count: 8, color: 'average' },
        { label: 'ë¯¸í¡', count: 4, color: 'poor' },
        { label: 'ë¶ˆëŸ‰', count: 2, color: 'bad' }
    ],
    'ì˜ë‚¨ê¶Œ': [
        { label: 'ìš°ìˆ˜', count: 15, color: 'excellent' },
        { label: 'ì–‘í˜¸', count: 20, color: 'good' },
        { label: 'ë³´í†µ', count: 14, color: 'average' },
        { label: 'ë¯¸í¡', count: 7, color: 'poor' },
        { label: 'ë¶ˆëŸ‰', count: 4, color: 'bad' }
    ],
    'í˜¸ë‚¨ê¶Œ': [
        { label: 'ìš°ìˆ˜', count: 8, color: 'excellent' },
        { label: 'ì–‘í˜¸', count: 12, color: 'good' },
        { label: 'ë³´í†µ', count: 9, color: 'average' },
        { label: 'ë¯¸í¡', count: 5, color: 'poor' },
        { label: 'ë¶ˆëŸ‰', count: 2, color: 'bad' }
    ],
    'ì œì£¼ê¶Œ': [
        { label: 'ìš°ìˆ˜', count: 3, color: 'excellent' },
        { label: 'ì–‘í˜¸', count: 4, color: 'good' },
        { label: 'ë³´í†µ', count: 3, color: 'average' },
        { label: 'ë¯¸í¡', count: 1, color: 'poor' },
        { label: 'ë¶ˆëŸ‰', count: 1, color: 'bad' }
    ]
};

var currentQualityRegion = 'ì „êµ­';

// ì´ˆê¸°í™”
// í’ˆì§ˆí†µì§€ì„œ ëª¨ë‹¬ í‘œì‹œ
function showNoticeModal(type, category) {
    var modal = document.getElementById('notice-modal');
    if (!modal) {
        // ëª¨ë‹¬ì´ ì—†ìœ¼ë©´ ìƒì„±
        createNoticeModal();
        modal = document.getElementById('notice-modal');
    }
    
    var data = noticeData[type][category];
    var title = getNoticeTitle(type, category);
    
    // ëª¨ë‹¬ ë‚´ìš© ì—…ë°ì´íŠ¸
    var modalTitle = modal.querySelector('.notice-modal-title');
    var noticeList = modal.querySelector('.notice-list');
    
    modalTitle.innerHTML = title;
    
    if (data && data.length > 0) {
        var html = '';
        for (var i = 0; i < data.length; i++) {
            var item = data[i];
            html += '<div class="notice-item ' + type + '">';
            html += '<div class="notice-item-header">';
            html += '<div class="notice-project">' + (item.project || item.item) + '</div>';
            html += '<div class="notice-date">' + item.date + '</div>';
            html += '</div>';
            html += '<div class="notice-company">' + (item.company || item.supplier) + '</div>';
            html += '<div class="notice-reason">' + item.reason + '</div>';
            html += '</div>';
        }
        noticeList.innerHTML = html;
    } else {
        noticeList.innerHTML = '<div class="notice-count">ë“±ë¡ëœ ' + (type === 'excellent' ? 'ìš°ìˆ˜' : 'ë¯¸í¡') + ' í†µì§€ì„œê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
    }
    
    modal.classList.add('show');
    document.body.style.overflow = 'hidden';
}

// í’ˆì§ˆí†µì§€ì„œ ëª¨ë‹¬ ìˆ¨ê¸°ê¸°
function hideNoticeModal() {
    var modal = document.getElementById('notice-modal');
    if (modal) {
        modal.classList.remove('show');
        document.body.style.overflow = 'auto';
    }
}

// ëª¨ë‹¬ ì œëª© ìƒì„±
function getNoticeTitle(type, category) {
    var typeText = type === 'excellent' ? 'ğŸ† í’ˆì§ˆìš°ìˆ˜í†µì§€ì„œ' : 'âš ï¸ í’ˆì§ˆë¯¸í¡í†µì§€ì„œ';
    var categoryText = '';
    
    switch(category) {
        case 'construction': categoryText = 'ê³µì‚¬'; break;
        case 'supervision': categoryText = 'ì„¤ê³„Â·ê°ë¦¬ìš©ì—­'; break;
        case 'material': categoryText = 'ì§€ê¸‰ìì¬'; break;
    }
    
    return typeText + ' - ' + categoryText;
}

// ëª¨ë‹¬ HTML ìƒì„±
function createNoticeModal() {
    var modalHtml = `
        <div class="notice-modal" id="notice-modal" onclick="hideNoticeModal()">
            <div class="notice-modal-content" onclick="event.stopPropagation()">
                <div class="notice-modal-header">
                    <h3 class="notice-modal-title">í’ˆì§ˆí†µì§€ì„œ ëª©ë¡</h3>
                    <button class="notice-close" onclick="hideNoticeModal()">Ã—</button>
                </div>
                <div class="notice-list"></div>
            </div>
        </div>
    `;
    
    document.body.insertAdjacentHTML('beforeend', modalHtml);
}
function init() {
    showNationalView();
    renderSiteList('concrete-sites', concreteSites, currentConcreteRegion);
    renderSiteList('compaction-sites', compactionSites);
    renderSiteList('paving-sites', pavingSites);
    renderQualityChart();
    setupEventListeners();
    renderStructureTable('ì „êµ­');
    renderManagerTable('ì „êµ­');
        // ì±„íŒ…ì°½ ìŠ¤í¬ë¡¤ì„ ë§¨ ì•„ë˜ë¡œ ì´ë™
    var chatMessages = document.getElementById('chat-messages');
    if (chatMessages) {
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    // íˆ´íŒ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
    document.addEventListener('scroll', hideTooltip);
    window.addEventListener('resize', hideTooltip);
}

// ì‘ì—… í•„í„° ì²´í¬ë°•ìŠ¤ í† ê¸€ í•¨ìˆ˜
function toggleWorkFilter(element) {
    // ê¸°íƒ€ ë²„íŠ¼ì¸ ê²½ìš° íŠ¹ë³„ ì²˜ë¦¬
    var label = element.querySelector('.work-checkbox-label').textContent;
    if (label.indexOf('ê¸°íƒ€') >= 0) {
        toggleOtherSearch(element);
        return;
    }
    var checkbox = element.querySelector('.work-checkbox');
    var isChecked = checkbox.checked;
    
    // ì²´í¬ë°•ìŠ¤ ìƒíƒœ í† ê¸€
    checkbox.checked = !isChecked;
    
    // ì‹œê°ì  ìŠ¤íƒ€ì¼ í† ê¸€
    if (!isChecked) {
        element.classList.add('checked');
    } else {
        element.classList.remove('checked');
    }
    
    // ì²´í¬ëœ í•­ëª©ë“¤ ì•Œë¦¼ (ì„ íƒì‚¬í•­)
    var checkedItems = document.querySelectorAll('.work-checkbox-item.checked .work-checkbox-label');
    var workTypes = Array.from(checkedItems).map(label => label.textContent);
    
    if (workTypes.length > 0) {
        console.log('ì„ íƒëœ ì‘ì—… ìœ í˜•:', workTypes);
    }
}
// ê¸°íƒ€ ê²€ìƒ‰ ê¸°ëŠ¥
function toggleOtherSearch(element) {
    var searchContainer = document.getElementById('work-search-container');
    var checkbox = element.querySelector('.work-checkbox');
    var isChecked = checkbox.checked;
    
    if (!isChecked) {
        element.classList.add('checked');
        checkbox.checked = true;
        searchContainer.classList.add('show');
        
        // ê²€ìƒ‰ì°½ì— í¬ì»¤ìŠ¤
        setTimeout(function() {
            document.getElementById('work-search-input').focus();
        }, 300);
    } else {
        element.classList.remove('checked');
        checkbox.checked = false;
        searchContainer.classList.remove('show');
        document.getElementById('work-search-input').value = '';
    }
}

// ì‘ì—… í‚¤ì›Œë“œ ê²€ìƒ‰
function searchWork() {
    var keyword = document.getElementById('work-search-input').value.trim();
    
    if (keyword) {
        showAlert('ğŸ” "' + keyword + '" ì‘ì—…ì„ ê²€ìƒ‰í–ˆì–´! (ì‹¤ì œë¡œëŠ” í•„í„°ë§ ê¸°ëŠ¥ì´ ë™ì‘í• ê±°ì•¼)');
        console.log('ê²€ìƒ‰ í‚¤ì›Œë“œ:', keyword);
    } else {
        showAlert('ê²€ìƒ‰í•  í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ì¤˜! ğŸ“');
    }
}

// Enter í‚¤ ê²€ìƒ‰ ì§€ì›
document.addEventListener('DOMContentLoaded', function() {
    var searchInput = document.getElementById('work-search-input');
    if (searchInput) {
        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchWork();
            }
        });
    }
});
    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
function setupEventListeners() {
    var backButton = document.getElementById('back-button');
    var chatSendBtn = document.getElementById('chat-send-btn');
    var chatInput = document.getElementById('chat-input');
// êµ¬ì¡°ë¬¼ í•„í„° ë²„íŠ¼ ì´ë²¤íŠ¸ ì¶”ê°€ (setupEventListeners í•¨ìˆ˜ ì•ˆì—)
var structureFilterButtons = document.querySelectorAll('#structure-filter-buttons .filter-btn');
structureFilterButtons.forEach(function(btn) {
    btn.addEventListener('click', function() {
        var region = this.getAttribute('data-region');
        
        // ëª¨ë“  ë²„íŠ¼ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
        structureFilterButtons.forEach(function(b) {
            b.classList.remove('active');
        });
        
        // í´ë¦­ëœ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
        this.classList.add('active');
        
        // í…Œì´ë¸” ì—…ë°ì´íŠ¸
        currentStructureRegion = region;
        renderStructureTable(region);
        
        // ì•Œë¦¼
        showAlert(region + ' êµ¬ì¡°ë¬¼ í˜„í™©ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ—ï¸');
    });
});
    if (backButton) {
        backButton.onclick = showNationalView;
    }
    
    if (chatSendBtn) {
        chatSendBtn.onclick = sendMessage;
    }
    
    if (chatInput) {
        chatInput.onkeypress = function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        };
    }

    // í’ˆì§ˆ ì°¨íŠ¸ í•„í„° ë²„íŠ¼ ì´ë²¤íŠ¸ ì¶”ê°€
    var filterButtons = document.querySelectorAll('.filter-btn');
    filterButtons.forEach(function(btn) {
        btn.addEventListener('click', function() {
            var region = this.getAttribute('data-region');
            
            // ëª¨ë“  ë²„íŠ¼ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            filterButtons.forEach(function(b) {
                b.classList.remove('active');
            });
            
            // í´ë¦­ëœ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
            this.classList.add('active');
            
            // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            currentQualityRegion = region;
            renderQualityChart(region);
            
            // ì•Œë¦¼
            showAlert(region + ' í’ˆì§ˆí˜„í™©ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ“Š');
        });
    });


// ë ˆë¯¸ì½˜ íƒ€ì„¤ í˜„ì¥ í•„í„° ë²„íŠ¼ ì´ë²¤íŠ¸ ì¶”ê°€
    var concreteFilterButtons = document.querySelectorAll('#concrete-filter-buttons .filter-btn');
    concreteFilterButtons.forEach(function(btn) {
        btn.addEventListener('click', function() {
            var region = this.getAttribute('data-region');
            
            // ëª¨ë“  ë²„íŠ¼ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            concreteFilterButtons.forEach(function(b) {
                b.classList.remove('active');
            });
            
            // í´ë¦­ëœ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
            this.classList.add('active');
            
            // í˜„ì¥ ëª©ë¡ ì—…ë°ì´íŠ¸
            currentConcreteRegion = region;
            renderSiteList('concrete-sites', concreteSites, region);
            
            // ì•Œë¦¼
            showAlert(region + ' ë ˆë¯¸ì½˜ íƒ€ì„¤í˜„ì¥ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸš›');
        });
    });
}
// ë„ë¡œ í¬ì¥ í˜„ì¥ í•„í„° ë²„íŠ¼ ì´ë²¤íŠ¸ ì¶”ê°€
var pavingFilterButtons = document.querySelectorAll('#paving-filter-buttons .filter-btn');
pavingFilterButtons.forEach(function(btn) {
    btn.addEventListener('click', function() {
        var region = this.getAttribute('data-region');
        
        // ëª¨ë“  ë²„íŠ¼ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
        pavingFilterButtons.forEach(function(b) {
            b.classList.remove('active');
        });
        
        // í´ë¦­ëœ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
        this.classList.add('active');
        
        // í˜„ì¥ ëª©ë¡ ì—…ë°ì´íŠ¸
        currentPavingRegion = region;
        renderSiteList('paving-sites', pavingSites, region);
        
        // ì•Œë¦¼
        showAlert(region + ' ë„ë¡œí¬ì¥ í˜„ì¥ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ›£ï¸');
    });
});

// ë„ë¡œ í¬ì¥ SMS ë²„íŠ¼ ì´ë²¤íŠ¸
var pavingSmsButton = document.getElementById('paving-sms-button');
if (pavingSmsButton) {
    pavingSmsButton.addEventListener('click', showSMSModal);
}
    // ì „êµ­ í˜„í™© ë³´ê¸°
    function showNationalView() {
        currentView = 'national';
        var regionsGrid = document.getElementById('regions-grid');
        var backButton = document.getElementById('back-button');
        
        if (regionsGrid) {
            var html = '';
            for (var i = 0; i < regionsData.length; i++) {
                var region = regionsData[i];
                html += '<div class="region-item" onclick="showRegionalView(\'' + region.name + '\')">';
                html += '<div class="region-name">ğŸ“ ' + region.name + '</div>';
                html += '<div class="region-count">' + region.count + 'ê°œ í˜„ì¥</div>';
                html += '</div>';
            }
            regionsGrid.innerHTML = html;
        }
        
        if (backButton) {
            backButton.style.display = 'none';
        }
    }

    // ê¶Œì—­ë³„ ìƒì„¸ ë³´ê¸°
    function showRegionalView(regionName) {
        currentView = 'regional';
        currentRegion = regionName;
        var regionsGrid = document.getElementById('regions-grid');
        var backButton = document.getElementById('back-button');
        
        if (regionsGrid) {
            var projects = regionProjects[regionName] || [];
            var html = '<div class="region-detail-header">' + regionName + ' ê±´ì„¤í˜„ì¥ ëª©ë¡</div>';
            html += '<div class="project-list">';
            
            for (var i = 0; i < projects.length; i++) {
                var project = projects[i];
                html += '<div class="project-item">';
                html += '<div class="project-name">' + project.name + '</div>';
                html += '<div class="project-location">' + project.location + ' | ' + project.status + '</div>';
                html += '<div class="project-progress">';
                html += '<div class="progress-bar">';
                html += '<div class="progress-fill" style="width: ' + project.progress + '%"></div>';
                html += '</div>';
                html += '<div class="progress-text">' + project.progress + '%</div>';
                html += '</div>';
                html += '</div>';
            }
            
            html += '</div>';
            regionsGrid.innerHTML = html;
        }
        
        if (backButton) {
            backButton.style.display = 'block';
        }
    }

    // í˜„ì¥ ëª©ë¡ ë Œë”ë§
function renderSiteList(containerId, sites, region) {
    var container = document.getElementById(containerId);
    if (!container) return;
    
    var sitesToShow = [];
    var totalVolume = 0;
    
if (containerId === 'concrete-sites') {
    // ë ˆë¯¸ì½˜ íƒ€ì„¤ í˜„ì¥ì˜ ê²½ìš° ê¶Œì—­ë³„ í•„í„°ë§
    if (region === 'ì „êµ­' || !region) {
        Object.keys(sites).forEach(function(key) {
            sitesToShow = sitesToShow.concat(sites[key]);
        });
    } else {
        sitesToShow = sites[region] || [];
    }
    
    // ì´ íƒ€ì„¤ëŸ‰ ê³„ì‚°
    sitesToShow.forEach(function(site) {
        totalVolume += site.volume || 0;
    });
    
    // ìš”ì•½ ì •ë³´ ì—…ë°ì´íŠ¸
    updateConcreteSummary(sitesToShow.length, totalVolume);
} else if (containerId === 'paving-sites') {
    // ë„ë¡œ í¬ì¥ í˜„ì¥ì˜ ê²½ìš° ê¶Œì—­ë³„ í•„í„°ë§
    var totalArea = 0;
    
    if (region === 'ì „êµ­' || !region) {
        Object.keys(sites).forEach(function(key) {
            sitesToShow = sitesToShow.concat(sites[key]);
        });
    } else {
        sitesToShow = sites[region] || [];
    }
    
    // ì´ í¬ì¥ë©´ì  ê³„ì‚°
    sitesToShow.forEach(function(site) {
        totalArea += site.area || 0;
    });
    
    // ìš”ì•½ ì •ë³´ ì—…ë°ì´íŠ¸
    updatePavingSummary(sitesToShow.length, totalArea);
} else {
    // ë‹¤ë¥¸ í˜„ì¥ë“¤ì€ ê¸°ì¡´ ë°©ì‹
    sitesToShow = sites;
}
    
    var html = '';
    for (var i = 0; i < sitesToShow.length; i++) {
        var site = sitesToShow[i];
        html += '<div class="site-item">';
        html += '<div class="site-info">';
        html += '<div class="site-name">' + site.name + '</div>';
        html += '<div class="site-details">' + site.location + '</div>';
        html += '</div>';
        
// ë ˆë¯¸ì½˜ íƒ€ì„¤ëŸ‰ ì •ë³´ í‘œì‹œ
if (containerId === 'concrete-sites' && site.volume) {
    html += '<div class="volume-info">';
    html += '<div class="volume-amount">' + site.volume + '</div>';
    html += '<div class="volume-unit">ã¥</div>';
    html += '</div>';
}

// ë„ë¡œ í¬ì¥ë©´ì  ì •ë³´ í‘œì‹œ
if (containerId === 'paving-sites' && site.area) {
    html += '<div class="area-info">';
    html += '<div class="area-amount">' + site.area.toLocaleString() + '</div>';
    html += '<div class="area-unit">ã¡</div>';
    html += '</div>';
}
        
        if (site.weather && site.weatherData) {
            html += '<div class="weather-icon weather-' + site.weather + '" onmouseenter="showTooltip(event, \'' + site.weather + '\', ' + JSON.stringify(site.weatherData).replace(/"/g, '&quot;') + ', \'' + containerId + '\')" onmouseleave="hideTooltip()">';
            html += getWeatherIcon(site.weather);
            html += '</div>';
        } else if (site.weather) {
            html += '<div class="weather-icon weather-' + site.weather + '">';
            html += getWeatherIcon(site.weather);
            html += '</div>';
        }
        
        html += '</div>';
    }
    container.innerHTML = html;
}

// ë„ë¡œ í¬ì¥ ìš”ì•½ ì •ë³´ ì—…ë°ì´íŠ¸
function updatePavingSummary(siteCount, totalArea) {
    var siteCountEl = document.getElementById('paving-site-count');
    var totalAreaEl = document.getElementById('paving-total-area');
    
    if (siteCountEl) {
        siteCountEl.textContent = siteCount + 'ê°œì†Œ';
    }
    
    if (totalAreaEl) {
        totalAreaEl.textContent = totalArea.toLocaleString() + 'ã¡';
    }
}

// ë ˆë¯¸ì½˜ ìš”ì•½ ì •ë³´ ì—…ë°ì´íŠ¸
function updateConcreteSummary(siteCount, totalVolume) {
    var siteCountEl = document.getElementById('concrete-site-count');
    var totalVolumeEl = document.getElementById('concrete-total-volume');
    
    if (siteCountEl) {
        siteCountEl.textContent = siteCount + 'ê°œì†Œ';
    }
    
    if (totalVolumeEl) {
        totalVolumeEl.textContent = totalVolume.toLocaleString() + 'ã¥';
    }
}

function init() {
    showNationalView();
    renderSiteList('concrete-sites', concreteSites, currentConcreteRegion);
    renderSiteList('compaction-sites', compactionSites);
    renderSiteList('paving-sites', pavingSites, currentPavingRegion);  // ì´ ë¶€ë¶„ ìˆ˜ì •
    renderQualityChart();
    setupEventListeners();
    renderStructureTable('ì „êµ­');
    
    // íˆ´íŒ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
    document.addEventListener('scroll', hideTooltip);
    window.addEventListener('resize', hideTooltip);
}

    // íˆ´íŒ í‘œì‹œ
    function showTooltip(event, weatherType, weatherData, siteType) {
        hideTooltip(); // ê¸°ì¡´ íˆ´íŒ ì œê±°
        
        var tooltip = document.createElement('div');
        tooltip.className = 'weather-tooltip';
        tooltip.id = 'weather-tooltip';
        
        // íˆ´íŒ ë‚´ìš© ìƒì„±
        var tooltipHtml = '';
        
        // í—¤ë”
        tooltipHtml += '<div class="tooltip-header">';
        tooltipHtml += '<div class="tooltip-icon">' + getWeatherIcon(weatherType) + '</div>';
        tooltipHtml += '<div class="tooltip-title">' + getWeatherTitle(weatherType) + '</div>';
        tooltipHtml += '</div>';
        
        // í˜„ì¬ ê¸°ìƒ ë°ì´í„°
        tooltipHtml += '<div class="tooltip-content">';
        tooltipHtml += '<div class="weather-data">';
        tooltipHtml += '<span class="weather-label">í˜„ì¬ ìƒí™©:</span>';
        tooltipHtml += '<span class="weather-value ' + (weatherData.status === 'critical' ? 'weather-critical' : 'weather-safe') + '">';
        tooltipHtml += weatherData.current + weatherData.unit;
        tooltipHtml += '</span>';
        tooltipHtml += '</div>';
        
        tooltipHtml += '<div class="weather-data">';
        tooltipHtml += '<span class="weather-label">ì˜ˆë³´:</span>';
        tooltipHtml += '<span class="weather-value">' + weatherData.forecast + '</span>';
        tooltipHtml += '</div>';
        
        // í’ˆì§ˆê´€ë¦¬ ê¸°ì¤€
        tooltipHtml += '<div class="quality-standard">';
        tooltipHtml += '<div class="standard-title">í’ˆì§ˆê´€ë¦¬ ê¸°ì¤€</div>';
        tooltipHtml += '<div class="standard-text">';
        tooltipHtml += getQualityStandard(weatherType, siteType) + '<br>';
        tooltipHtml += 'ê¸°ì¤€ê°’: ' + weatherData.standard;
        tooltipHtml += '</div>';
        tooltipHtml += '</div>';
        
        tooltipHtml += '</div>';
        
        tooltip.innerHTML = tooltipHtml;
        document.body.appendChild(tooltip);
        
        // ìœ„ì¹˜ ê³„ì‚°
        positionTooltip(tooltip, event);
        
        // í‘œì‹œ
        setTimeout(function() {
            tooltip.style.opacity = '1';
            tooltip.style.visibility = 'visible';
        }, 10);
    }

    // íˆ´íŒ ìˆ¨ê¸°ê¸°
    function hideTooltip() {
        var existingTooltip = document.getElementById('weather-tooltip');
        if (existingTooltip) {
            existingTooltip.remove();
        }
    }

    // íˆ´íŒ ìœ„ì¹˜ ê³„ì‚°
    function positionTooltip(tooltip, event) {
        var rect = tooltip.getBoundingClientRect();
        var x = event.clientX;
        var y = event.clientY;
        
        // í™”ë©´ ê²½ê³„ í™•ì¸
        var windowWidth = window.innerWidth;
        var windowHeight = window.innerHeight;
        var tooltipWidth = 320; // max-width ê°’
        var tooltipHeight = rect.height || 200; // ì˜ˆìƒ ë†’ì´
        
        // X ìœ„ì¹˜ ì¡°ì •
        if (x + tooltipWidth > windowWidth - 20) {
            x = windowWidth - tooltipWidth - 20;
        }
        if (x < 20) {
            x = 20;
        }
        
        // Y ìœ„ì¹˜ ì¡°ì •
        if (y + tooltipHeight > windowHeight - 20) {
            y = y - tooltipHeight - 20;
        } else {
            y = y + 20;
        }
        
        tooltip.style.left = x + 'px';
        tooltip.style.top = y + 'px';
    }

    // ë‚ ì”¨ ì œëª©
    function getWeatherTitle(weatherType) {
        var titles = {
            'rain': 'ê°•ìˆ˜ëŸ‰ ì •ë³´',
            'hot': 'ê¸°ì˜¨ ì •ë³´',
            'cold': 'ì €ì˜¨ ì •ë³´',
            'wind': 'í’ì† ì •ë³´'
        };
        return titles[weatherType] || 'ê¸°ìƒ ì •ë³´';
    }

    // ê³µì‚¬ ì¢…ë¥˜ë³„ í’ˆì§ˆê´€ë¦¬ ê¸°ì¤€
    function getQualityStandard(weatherType, siteType) {
        var standards = {
            'concrete-sites': {
                'rain': 'ì½˜í¬ë¦¬íŠ¸ íƒ€ì„¤ ì‹œ ê°•ìˆ˜ëŸ‰ì´ ê¸°ì¤€ì„ ì´ˆê³¼í•˜ë©´ ì‘ì—… ì¤‘ë‹¨',
                'wind': 'ê°•í’ ì‹œ íƒ€ì›Œí¬ë ˆì¸ ë° ê³ ì†Œì‘ì—… ê¸ˆì§€',
                'hot': 'ê³ ì˜¨ ì‹œ ì–‘ìƒ ê´€ë¦¬ ë° ìˆ˜ë¶„ ê³µê¸‰ í•„ìˆ˜',
                'cold': 'ì €ì˜¨ ì‹œ ë™ê²°ë°©ì§€ì œ ì‚¬ìš© ë° ë³´ì˜¨ì–‘ìƒ ì‹¤ì‹œ'
            },
            'compaction-sites': {
                'rain': 'ë‹¤ì§ì‘ì—… ì‹œ ê°•ìˆ˜ë¡œ ì¸í•œ í•¨ìˆ˜ë¹„ ì¦ê°€ ë°©ì§€',
                'wind': 'ê°•í’ ì‹œ ì¥ë¹„ ì‘ì—… ì•ˆì „ì„± í™•ë³´',
                'hot': 'ê³ ì˜¨ ì‹œ ì¬ë£Œ í’ˆì§ˆ ê´€ë¦¬ ë° ì‘ì—…ì‹œê°„ ì¡°ì •',
                'cold': 'ì €ì˜¨ ì‹œ ë™ê²° ë°©ì§€ ë° ë‹¤ì§ í’ˆì§ˆ í™•ë³´'
            },
            'paving-sites': {
                'rain': 'ì•„ìŠ¤íŒ”íŠ¸ í¬ì¥ ì‹œ ê°•ìˆ˜ëŠ” ì‘ì—…í’ˆì§ˆì— ì¹˜ëª…ì ',
                'wind': 'ê°•í’ ì‹œ í¬ì¥ì¬ë£Œ ë¹„ì‚° ë°©ì§€ ë° ì•ˆì „ê´€ë¦¬',
                'hot': 'ê³ ì˜¨ì—ì„œ ì•„ìŠ¤íŒ”íŠ¸ í’ˆì§ˆì €í•˜ ë°©ì§€ ì¡°ì¹˜ í•„ìš”',
                'cold': 'ì €ì˜¨ ì‹œ í¬ì¥ì¬ ì˜¨ë„ê´€ë¦¬ ë° ë‹¤ì§ í’ˆì§ˆ í™•ë³´'
            }
        };
        
        return standards[siteType] && standards[siteType][weatherType] 
            ? standards[siteType][weatherType] 
            : 'í•´ë‹¹ ê¸°ìƒì¡°ê±´ì— ëŒ€í•œ í’ˆì§ˆê´€ë¦¬ ê¸°ì¤€ ì ìš©';
    }

    // ë‚ ì”¨ ì•„ì´ì½˜
    function getWeatherIcon(weather) {
        var icons = {
            'rain': 'ğŸŒ§ï¸',
            'hot': 'ğŸŒ¡ï¸',
            'cold': 'â„ï¸',
            'wind': 'ğŸ’¨'
        };
        return icons[weather] || '';
    }

    // í’ˆì§ˆ ì°¨íŠ¸ ë Œë”ë§
function renderQualityChart(region) {
    var container = document.getElementById('quality-chart');
    if (!container) return;
    
    region = region || currentQualityRegion;
    var data = qualityData[region] || qualityData['ì „êµ­'];
    
    var maxCount = 0;
    var totalCount = 0;
    for (var i = 0; i < data.length; i++) {
        if (data[i].count > maxCount) {
            maxCount = data[i].count;
        }
        totalCount += data[i].count;
    }
    
    var html = '';
    for (var i = 0; i < data.length; i++) {
        var item = data[i];
        var width = maxCount > 0 ? (item.count / maxCount) * 100 : 0;
        var percentage = totalCount > 0 ? Math.round((item.count / totalCount) * 100) : 0;
        
        html += '<div class="quality-bar">';
        html += '<div class="quality-label quality-' + item.color + '">' + item.label + '</div>';
        html += '<div class="bar-container">';
        html += '<div class="bar-fill bar-' + item.color + '" style="width: ' + width + '%">';
        html += item.count;
        html += '</div>';
        html += '</div>';
        html += '<div class="quality-count">' + percentage + '%</div>';
        html += '</div>';
    }
    
    container.innerHTML = html;
}

    // ë©”ì‹œì§€ ì „ì†¡
    function sendMessage() {
        var input = document.getElementById('chat-input');
        var messages = document.getElementById('chat-messages');
        
        if (!input || !messages) return;
        
        var message = input.value.trim();
        if (!message) return;
        
        // ì‚¬ìš©ì ë©”ì‹œì§€ ì¶”ê°€
        var userMsg = document.createElement('div');
        userMsg.className = 'chat-message chat-user';
        userMsg.textContent = message;
        messages.appendChild(userMsg);
        
        // ë´‡ ì‘ë‹µ
        setTimeout(function() {
            var botMsg = document.createElement('div');
            botMsg.className = 'chat-message chat-bot';
            botMsg.textContent = getBotResponse(message);
            messages.appendChild(botMsg);
            messages.scrollTop = messages.scrollHeight;
        }, 1000);
        
        input.value = '';
        messages.scrollTop = messages.scrollHeight;
    }

    // ë´‡ ì‘ë‹µ
    function getBotResponse(message) {
        var lower = message.toLowerCase();
        
        if (lower.indexOf('ì½˜í¬ë¦¬íŠ¸') >= 0 || lower.indexOf('ë ˆë¯¸ì½˜') >= 0) {
            return 'ì½˜í¬ë¦¬íŠ¸ íƒ€ì„¤ ì‹œ ì£¼ìš” í’ˆì§ˆê´€ë¦¬ ìš”ì†Œ:\nâ€¢ ìŠ¬ëŸ­í”„ ê°’: 12Â±2.5cm\nâ€¢ ê³µê¸°ëŸ‰: 4.5Â±1.5%\nâ€¢ ì••ì¶•ê°•ë„: ì„¤ê³„ê¸°ì¤€ê°•ë„ ì´ìƒ';
        } else if (lower.indexOf('ë‹¤ì§') >= 0) {
            return 'ë‹¤ì§ ì‘ì—…ì˜ í’ˆì§ˆê¸°ì¤€:\nâ€¢ ë‹¤ì§ë„: 95% ì´ìƒ\nâ€¢ í•¨ìˆ˜ë¹„: ìµœì í•¨ìˆ˜ë¹„ Â±2%\nâ€¢ í‰íƒ„ì„±: Â±2cm ì´ë‚´';
        } else if (lower.indexOf('í¬ì¥') >= 0 || lower.indexOf('ë„ë¡œ') >= 0) {
            return 'ë„ë¡œ í¬ì¥ í’ˆì§ˆê¸°ì¤€:\nâ€¢ ì•„ìŠ¤íŒ”íŠ¸ ì˜¨ë„: 110Â°C~160Â°C\nâ€¢ ë‹¤ì§ ì˜¨ë„: 80Â°C ì´ìƒ\nâ€¢ í‰íƒ„ì„±: IRI 2.5 ì´í•˜';
        } else {
            return 'ì•ˆë…•í•˜ì„¸ìš”! ë‹¤ìŒê³¼ ê°™ì€ í’ˆì§ˆê´€ë¦¬ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\nâ€¢ ì½˜í¬ë¦¬íŠ¸ íƒ€ì„¤ ê¸°ì¤€\nâ€¢ ë‹¤ì§ ì‘ì—… ê¸°ì¤€\nâ€¢ ë„ë¡œ í¬ì¥ ê¸°ì¤€\nêµ¬ì²´ì ì¸ í•­ëª©ì„ ë§ì”€í•´ ì£¼ì„¸ìš”!';
        }
    }

    // ì•Œë¦¼ í‘œì‹œ
    function showAlert(message) {
        var notification = document.createElement('div');
        notification.className = 'notification';
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(function() {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, 3000);
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
    window.addEventListener('load', function() {
        init();
        renderManagerTable('ì „êµ­');  // ì´ ì¤„ ì¶”ê°€!
        setTimeout(function() {
            showAlert('ê±´ì„¤ê³µì‚¬ í’ˆì§ˆê´€ë¦¬ ëŒ€ì‹œë³´ë“œì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤! ğŸ—ï¸');
        }, 500);
    });

    // ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì‹œë®¬ë ˆì´ì…˜
    setInterval(function() {
        for (var i = 0; i < regionsData.length; i++) {
            var change = Math.floor(Math.random() * 3) - 1;
            regionsData[i].count = Math.max(1, regionsData[i].count + change);
        }
        
        if (currentView === 'national') {
            showNationalView();
        } else if (currentView === 'regional') {
            showRegionalView(currentRegion);
        }
    }, 30000);

// ë“œë˜ê·¸ ì•¤ ë“œë¡­ ê¸°ëŠ¥
var draggedElement = null;
var draggedId = null;

// ë“œë˜ê·¸ ì‹œì‘
document.addEventListener('dragstart', function(e) {
    if (e.target.classList.contains('grid-item')) {
        draggedElement = e.target;
        draggedId = e.target.getAttribute('data-widget-id');
        e.target.classList.add('dragging');
        
        // ë“œë˜ê·¸ ë°ì´í„° ì„¤ì •
        e.dataTransfer.setData('text/plain', draggedId);
        e.dataTransfer.effectAllowed = 'move';
    }
});

// ë“œë˜ê·¸ ì¢…ë£Œ
document.addEventListener('dragend', function(e) {
    if (e.target.classList.contains('grid-item')) {
        e.target.classList.remove('dragging');
        
        // ëª¨ë“  drag-over í´ë˜ìŠ¤ ì œê±°
        var allItems = document.querySelectorAll('.grid-item');
        allItems.forEach(function(item) {
            item.classList.remove('drag-over');
        });
    }
});

// ë“œë˜ê·¸ ì˜¤ë²„
document.addEventListener('dragover', function(e) {
    e.preventDefault();
    e.dataTransfer.dropEffect = 'move';
});

// ë“œë˜ê·¸ ì—”í„°
document.addEventListener('dragenter', function(e) {
    if (e.target.classList.contains('grid-item') && e.target !== draggedElement) {
        e.target.classList.add('drag-over');
    }
});

// ë“œë˜ê·¸ ë¦¬ë¸Œ
document.addEventListener('dragleave', function(e) {
    if (e.target.classList.contains('grid-item')) {
        e.target.classList.remove('drag-over');
    }
});

// ë“œë¡­
document.addEventListener('drop', function(e) {
    e.preventDefault();
    
    if (e.target.classList.contains('grid-item') && e.target !== draggedElement) {
        var targetId = e.target.getAttribute('data-widget-id');
        
        if (draggedId && targetId && draggedId !== targetId) {
            swapWidgets(draggedId, targetId);
        }
    }
    
    // ëª¨ë“  drag-over í´ë˜ìŠ¤ ì œê±°
    var allItems = document.querySelectorAll('.grid-item');
    allItems.forEach(function(item) {
        item.classList.remove('drag-over');
    });
});

// ìœ„ì ¯ ìœ„ì¹˜ êµí™˜ í•¨ìˆ˜
function swapWidgets(id1, id2) {
    var widget1 = document.querySelector('[data-widget-id="' + id1 + '"]');
    var widget2 = document.querySelector('[data-widget-id="' + id2 + '"]');
    
    if (widget1 && widget2) {
        // ë¶€ëª¨ ìš”ì†Œë“¤
        var parent1 = widget1.parentNode;
        var parent2 = widget2.parentNode;
        
        // ë‹¤ìŒ í˜•ì œ ìš”ì†Œë“¤ (ìœ„ì¹˜ ì°¸ì¡°ìš©)
        var next1 = widget1.nextSibling;
        var next2 = widget2.nextSibling;
        
        // ìœ„ì¹˜ êµí™˜
        if (next1) {
            parent1.insertBefore(widget2, next1);
        } else {
            parent1.appendChild(widget2);
        }
        
        if (next2) {
            parent2.insertBefore(widget1, next2);
        } else {
            parent2.appendChild(widget1);
        }
        
        // ì„±ê³µ ì•Œë¦¼
        showAlert('ìœ„ì ¯ ìœ„ì¹˜ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ”„');
    }
}

// setupEventListeners í•¨ìˆ˜ì— ì¶”ê°€ (ê¸°ì¡´ í•¨ìˆ˜ ì•ˆì— ì¶”ê°€)
// ë“œë˜ê·¸ ì•¤ ë“œë¡­ì€ ì´ë¯¸ document ë ˆë²¨ì—ì„œ ì²˜ë¦¬í•˜ë¯€ë¡œ ì¶”ê°€ ì„¤ì • ë¶ˆí•„ìš”
// SMS ëª¨ë‹¬ ê¸°ëŠ¥
function showSMSModal() {
    var modal = document.getElementById('sms-modal');
    if (modal) {
        modal.classList.add('show');
        document.body.style.overflow = 'hidden';
    }
}

function hideSMSModal() {
    var modal = document.getElementById('sms-modal');
    if (modal) {
        modal.classList.remove('show');
        document.body.style.overflow = 'auto';
        
        // í¼ ì´ˆê¸°í™”
        document.getElementById('sms-sender').value = '';
        document.getElementById('sms-receiver').value = '';
        document.getElementById('sms-message').value = '';
        updateCharCount();
    }
}

function updateCharCount() {
    var textarea = document.getElementById('sms-message');
    var charCount = document.getElementById('char-count');
    var count = textarea.value.length;
    var limit = 1000;
    
    charCount.textContent = count + '/' + limit + 'ì';
    charCount.style.color = count > limit ? '#e74c3c' : '#666';
}

function sendSMS() {
    var sender = document.getElementById('sms-sender').value.trim();
    var receiver = document.getElementById('sms-receiver').value.trim();
    var message = document.getElementById('sms-message').value.trim();
    
    if (!sender || !receiver || !message) {
        showAlert('ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”! ğŸ“');
        return;
    }
    
    // ì‹¤ì œë¡œëŠ” SMS API í˜¸ì¶œ
    showAlert('ë¬¸ìê°€ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ“±âœ¨');
    hideSMSModal();
}

// SMS ë²„íŠ¼ ì´ë²¤íŠ¸ (setupEventListeners í•¨ìˆ˜ì— ì¶”ê°€)
// ê¸°ì¡´ setupEventListeners í•¨ìˆ˜ ëë¶€ë¶„ì— ì¶”ê°€:
    
    // SMS ë²„íŠ¼ ì´ë²¤íŠ¸
    var smsButton = document.getElementById('sms-button');
    if (smsButton) {
        smsButton.addEventListener('click', showSMSModal);
    }

</script>
<!-- SMS ëª¨ë‹¬ -->
    <div class="sms-modal" id="sms-modal">
        <div class="sms-modal-content">
            <div class="sms-modal-header">
                <h3 class="sms-modal-title">ğŸ“± ë¬¸ì ë©”ì‹œì§€ ë°œì†¡</h3>
                <button class="sms-close" onclick="hideSMSModal()">Ã—</button>
            </div>
            
            <div class="sms-form-group">
                <label class="sms-label" for="sms-sender">ë°œì‹ ì ë²ˆí˜¸</label>
                <input type="tel" class="sms-input" id="sms-sender" placeholder="010-1234-5678">
            </div>
            
            <div class="sms-form-group">
                <label class="sms-label" for="sms-receiver">ìˆ˜ì‹ ì ë²ˆí˜¸</label>
                <input type="tel" class="sms-input" id="sms-receiver" placeholder="010-9876-5432">
            </div>
            
            <div class="sms-form-group">
                <label class="sms-label" for="sms-message">ë©”ì‹œì§€ ë‚´ìš©</label>
                <textarea class="sms-textarea" id="sms-message" placeholder="ë‚ ì”¨ ì •ë³´ ë° ì‘ì—… í˜„í™©ì„ ì…ë ¥í•˜ì„¸ìš”..." oninput="updateCharCount()" maxlength="1000"></textarea>
                <div class="sms-char-count" id="char-count">0/1000ì</div>
            </div>
            
            <div class="sms-buttons">
                <button class="sms-btn sms-btn-cancel" onclick="hideSMSModal()">ì·¨ì†Œ</button>
                <button class="sms-btn sms-btn-send" onclick="sendSMS()">ğŸ“± ë°œì†¡</button>
            </div>
        </div>
    </div>

</body>
</html>
